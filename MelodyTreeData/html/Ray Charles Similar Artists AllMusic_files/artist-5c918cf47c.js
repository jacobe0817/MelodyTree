var initAverageUserRatings,initUserRatings;!function(t,e,i){"use strict";var o,n;t.uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},t.browser||(n={},(o=t.uaMatch(e.navigator.userAgent)).browser&&(n[o.browser]=!0,n.version=o.version),n.chrome?n.webkit=!0:n.webkit&&(n.safari=!0),t.browser=n)}(jQuery,window),function(t,e,i){!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.qtip&&t(jQuery)}((function(o){"use strict";function n(t,e,i,n){this.id=i,this.target=t,this.tooltip=S,this.elements={target:t},this._id=U+"-"+i,this.timers={img:{}},this.options=e,this.plugins={},this.cache={event:{},target:o(),disabled:A,attr:n,onTooltip:A,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=A}function s(t){return t===S||"object"!==o.type(t)}function a(t){return!(o.isFunction(t)||t&&t.attr||t.length||"object"===o.type(t)&&(t.jquery||t.then))}function r(t){var e,i,n,r;return s(t)?A:(s(t.metadata)&&(t.metadata={type:t.metadata}),"content"in t&&(s(e=t.content)||e.jquery||e.done?(i=a(e)?A:e,e=t.content={text:i}):i=e.text,"ajax"in e&&(n=e.ajax,r=n&&n.once!==A,delete e.ajax,e.text=function(t,e){var s=i||o(this).attr(e.options.content.attr)||"Loading...",a=o.ajax(o.extend({},n,{context:e})).then(n.success,S,n.error).then((function(t){return t&&r&&e.set("content.text",t),t}),(function(t,i,o){e.destroyed||0===t.status||e.set("content.text",i+": "+o)}));return r?s:(e.set("content.text",s),a)}),"title"in e&&(o.isPlainObject(e.title)&&(e.button=e.title.button,e.title=e.title.text),a(e.title||A)&&(e.title=A))),"position"in t&&s(t.position)&&(t.position={my:t.position,at:t.position}),"show"in t&&s(t.show)&&(t.show=t.show.jquery?{target:t.show}:t.show===L?{ready:L}:{event:t.show}),"hide"in t&&s(t.hide)&&(t.hide=t.hide.jquery?{target:t.hide}:{event:t.hide}),"style"in t&&s(t.style)&&(t.style={classes:t.style}),o.each(N,(function(){this.sanitize&&this.sanitize(t)})),t)}function l(t,e){for(var i,o=0,n=t,s=e.split(".");n=n[s[o++]];)o<s.length&&(i=n);return[i||t,s.pop()]}function u(t,e){var i,o,n;for(i in this.checks)if(this.checks.hasOwnProperty(i))for(o in this.checks[i])this.checks[i].hasOwnProperty(o)&&(n=new RegExp(o,"i").exec(t))&&(e.push(n),("builtin"===i||this.plugins[i])&&this.checks[i][o].apply(this.plugins[i]||this,e))}function d(t){return W.concat("").join(t?"-"+t+" ":" ")}function c(t,e){return e>0?setTimeout(o.proxy(t,this),e):void t.call(this)}function h(t){this.tooltip.hasClass(K)||(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=c.call(this,(function(){this.toggle(L,t)}),this.options.show.delay))}function p(t){if(!this.tooltip.hasClass(K)&&!this.destroyed){var e=o(t.relatedTarget),i=e.closest(G)[0]===this.tooltip[0],n=e[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==e[0]&&"mouse"===this.options.position.target&&i||this.options.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(i||n))try{t.preventDefault(),t.stopImmediatePropagation()}catch(t){}else this.timers.hide=c.call(this,(function(){this.toggle(A,t)}),this.options.hide.delay,this)}}function f(t){!this.tooltip.hasClass(K)&&this.options.hide.inactive&&(clearTimeout(this.timers.inactive),this.timers.inactive=c.call(this,(function(){this.hide(t)}),this.options.hide.inactive))}function m(t){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(t)}function g(t,i,n){o(e.body).delegate(t,(i.split?i:i.join("."+U+" "))+"."+U,(function(){var t=C.api[o.attr(this,B)];t&&!t.disabled&&n.apply(t,arguments)}))}function v(t,i,s){var a,l,u,d,c,h=o(e.body),p=t[0]===e?h:t,f=t.metadata?t.metadata(s.metadata):S,m="html5"===s.metadata.type&&f?f[s.metadata.name]:S,g=t.data(s.metadata.name||"qtipopts");try{g="string"==typeof g?o.parseJSON(g):g}catch(t){}if(l=(d=o.extend(L,{},C.defaults,s,"object"==typeof g?r(g):S,r(m||f))).position,d.id=i,"boolean"==typeof d.content.text){if(u=t.attr(d.content.attr),d.content.attr===A||!u)return A;d.content.text=u}if(l.container.length||(l.container=h),l.target===A&&(l.target=p),d.show.target===A&&(d.show.target=p),d.show.solo===L&&(d.show.solo=l.container.closest("body")),d.hide.target===A&&(d.hide.target=p),d.position.viewport===L&&(d.position.viewport=l.container),l.container=l.container.eq(0),l.at=new O(l.at,L),l.my=new O(l.my),t.data(U))if(d.overwrite)t.qtip("destroy",!0);else if(d.overwrite===A)return A;return t.attr(z,i),d.suppress&&(c=t.attr("title"))&&t.removeAttr("title").attr(tt,c).attr("title",""),a=new n(t,d,i,!!u),t.data(U,a),a}function b(t){return t.charAt(0).toUpperCase()+t.slice(1)}function y(t,e){return Math.ceil(parseFloat(function(t,e){var o,n,s=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+yt.join(s+" ")+s).split(" "),r=0;if(bt[e])return t.css(bt[e]);for(;o=a[r++];)if((n=t.css(o))!==i)return bt[e]=o,n}(t,e)))}function w(t,e){this._ns="tip",this.options=e,this.offset=e.offset,this.size=[e.width,e.height],this.qtip=t,this.init(t)}function _(t,e){this.options=e,this._ns="-modal",this.qtip=t,this.init(t)}function x(t){this._ns="ie6",this.qtip=t,this.init(t)}var C,T,O,$,M,L=!0,A=!1,S=null,k="x",I="y",P="width",D="height",R="top",E="left",j="bottom",F="right",q="center",H="shift",N={},U="qtip",z="data-hasqtip",B="data-qtip-id",W=["ui-widget","ui-tooltip"],G="."+U,V="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),Q=U+"-fixed",X=U+"-default",Y=U+"-focus",J=U+"-hover",K=U+"-disabled",Z="_replacedByqTip",tt="oldtitle",et={ie:function(){var t,i;for(t=4,i=e.createElement("div");(i.innerHTML="\x3c!--[if gt IE "+t+"]><i></i><![endif]--\x3e")&&i.getElementsByTagName("i")[0];t+=1);return t>4?t:NaN}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||A};(T=n.prototype)._when=function(t){return o.when.apply(o,t)},T.render=function(t){if(this.rendered||this.destroyed)return this;var e=this,i=this.options,n=this.cache,s=this.elements,a=i.content.text,r=i.content.title,l=i.content.button,u=i.position,d=[];return o.attr(this.target[0],"aria-describedby",this._id),n.posClass=this._createPosClass((this.position={my:u.my,at:u.at}).my),this.tooltip=s.tooltip=o("<div/>",{id:this._id,class:[U,X,i.style.classes,n.posClass].join(" "),width:i.style.width||"",height:i.style.height||"",tracking:"mouse"===u.target&&u.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":A,"aria-describedby":this._id+"-content","aria-hidden":L}).toggleClass(K,this.disabled).attr(B,this.id).data(U,this).appendTo(u.container).append(s.content=o("<div />",{class:U+"-content",id:this._id+"-content","aria-atomic":L})),this.rendered=-1,this.positioning=L,r&&(this._createTitle(),o.isFunction(r)||d.push(this._updateTitle(r,A))),l&&this._createButton(),o.isFunction(a)||d.push(this._updateContent(a,A)),this.rendered=L,this._setWidget(),o.each(N,(function(t){var i;"render"===this.initialize&&(i=this(e))&&(e.plugins[t]=i)})),this._unassignEvents(),this._assignEvents(),this._when(d).then((function(){e._trigger("render"),e.positioning=A,e.hiddenDuringWait||!i.show.ready&&!t||e.toggle(L,n.event,A),e.hiddenDuringWait=A})),C.api[this.id]=this,this},T.destroy=function(t){function e(){if(!this.destroyed){this.destroyed=L;var t,e=this.target,i=e.attr(tt);for(t in this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),o.each(this.plugins,(function(){this.destroy&&this.destroy()})),this.timers)this.timers.hasOwnProperty(t)&&clearTimeout(this.timers[t]);e.removeData(U).removeAttr(B).removeAttr(z).removeAttr("aria-describedby"),this.options.suppress&&i&&e.attr("title",i).removeAttr(tt),this._unassignEvents(),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=S,delete C.api[this.id]}}return this.destroyed||(t===L&&"hide"!==this.triggering||!this.rendered?e.call(this):(this.tooltip.one("tooltiphidden",o.proxy(e,this)),!this.triggering&&this.hide())),this.target},$=T.checks={builtin:{"^id$":function(t,e,i,n){var s=i===L?C.nextid:i,a=U+"-"+s;s!==A&&s.length>0&&!o("#"+a).length?(this._id=a,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):t[e]=n},"^prerender":function(t,e,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(t,e,i){this._updateContent(i)},"^content.attr$":function(t,e,i,o){this.options.content.text===this.target.attr(o)&&this._updateContent(this.target.attr(i))},"^content.title$":function(t,e,i){return i?(i&&!this.elements.title&&this._createTitle(),void this._updateTitle(i)):this._removeTitle()},"^content.button$":function(t,e,i){this._updateButton(i)},"^content.title.(text|button)$":function(t,e,i){this.set("content."+e,i)},"^position.(my|at)$":function(t,e,i){"string"==typeof i&&(this.position[e]=t[e]=new O(i,"at"===e))},"^position.container$":function(t,e,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(t,e,i){i&&(!this.rendered&&this.render(L)||this.toggle(L))},"^style.classes$":function(t,e,i,o){this.rendered&&this.tooltip.removeClass(o).addClass(i)},"^style.(width|height)":function(t,e,i){this.rendered&&this.tooltip.css(e,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(t,e,i){this.rendered&&this.tooltip.toggleClass(X,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(t,e,i){this.rendered&&this.tooltip[(o.isFunction(i)?"":"un")+"bind"]("tooltip"+e,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var t=this.options.position;this.tooltip.attr("tracking","mouse"===t.target&&t.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},T.get=function(t){if(this.destroyed)return this;var e=l(this.options,t.toLowerCase()),i=e[0][e[1]];return i.precedance?i.string():i};var it=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,ot=/^prerender|show\.ready/i;T.set=function(t,e){if(this.destroyed)return this;var i,n=this.rendered,s=A,a=this.options;return"string"==typeof t?(i=t,(t={})[i]=e):t=o.extend({},t),o.each(t,(function(e,i){if(n&&ot.test(e))delete t[e];else{var r,u=l(a,e.toLowerCase());r=u[0][u[1]],u[0][u[1]]=i&&i.nodeType?o(i):i,s=it.test(e)||s,t[e]=[u[0],u[1],i,r]}})),r(a),this.positioning=L,o.each(t,o.proxy(u,this)),this.positioning=A,this.rendered&&this.tooltip[0].offsetWidth>0&&s&&this.reposition("mouse"===a.position.target?S:this.cache.event),this},T._update=function(t,e){var i=this,n=this.cache;return this.rendered&&t?(o.isFunction(t)&&(t=t.call(this.elements.target,n.event,this)||""),o.isFunction(t.then)?(n.waiting=L,t.then((function(t){return n.waiting=A,i._update(t,e)}),S,(function(t){return i._update(t,e)}))):t===A||!t&&""!==t?A:(t.jquery&&t.length>0?e.empty().append(t.css({display:"block",visibility:"visible"})):e.html(t),this._waitForContent(e).then((function(t){i.rendered&&i.tooltip[0].offsetWidth>0&&i.reposition(n.event,!t.length)})))):A},T._waitForContent=function(t){var e=this.cache;return e.waiting=L,(o.fn.imagesLoaded?t.imagesLoaded():(new o.Deferred).resolve([])).done((function(){e.waiting=A})).promise()},T._updateContent=function(t,e){this._update(t,this.elements.content,e)},T._updateTitle=function(t,e){this._update(t,this.elements.title,e)===A&&this._removeTitle(A)},T._createTitle=function(){var t=this.elements,e=this._id+"-title";t.titlebar&&this._removeTitle(),t.titlebar=o("<div />",{class:U+"-titlebar "+(this.options.style.widget?d("header"):"")}).append(t.title=o("<div />",{id:e,class:U+"-title","aria-atomic":L})).insertBefore(t.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",(function(t){o(this).toggleClass("ui-state-active ui-state-focus","down"===t.type.substr(-4))})).delegate(".qtip-close","mouseover mouseout",(function(t){o(this).toggleClass("ui-state-hover","mouseover"===t.type)})),this.options.content.button&&this._createButton()},T._removeTitle=function(t){var e=this.elements;e.title&&(e.titlebar.remove(),e.titlebar=e.title=e.button=S,t!==A&&this.reposition())},T._createPosClass=function(t){return U+"-pos-"+(t||this.options.position.my).abbrev()},T.reposition=function(i,n){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=L;var s,a,r,l,u=this.cache,d=this.tooltip,c=this.options.position,h=c.target,p=c.my,f=c.at,m=c.viewport,g=c.container,v=c.adjust,b=v.method.split(" "),y=d.outerWidth(A),w=d.outerHeight(A),_=0,x=0,C=d.css("position"),T={left:0,top:0},O=d[0].offsetWidth>0,$=i&&"scroll"===i.type,M=o(t),S=g[0].ownerDocument,k=this.mouse;if(o.isArray(h)&&2===h.length)f={x:E,y:R},T={left:h[0],top:h[1]};else if("mouse"===h)f={x:E,y:R},(!v.mouse||this.options.hide.distance)&&u.origin&&u.origin.pageX?i=u.origin:!i||i&&("resize"===i.type||"scroll"===i.type)?i=u.event:k&&k.pageX&&(i=k),"static"!==C&&(T=g.offset()),S.body.offsetWidth!==(t.innerWidth||S.documentElement.clientWidth)&&(a=o(e.body).offset()),T={left:i.pageX-T.left+(a&&a.left||0),top:i.pageY-T.top+(a&&a.top||0)},v.mouse&&$&&k&&(T.left-=(k.scrollX||0)-M.scrollLeft(),T.top-=(k.scrollY||0)-M.scrollTop());else{if("event"===h?i&&i.target&&"scroll"!==i.type&&"resize"!==i.type?u.target=o(i.target):i.target||(u.target=this.elements.target):"event"!==h&&(u.target=o(h.jquery?h:this.elements.target)),h=u.target,0===(h=o(h).eq(0)).length)return this;h[0]===e||h[0]===t?(_=et.iOS?t.innerWidth:h.width(),x=et.iOS?t.innerHeight:h.height(),h[0]===t&&(T={top:(m||h).scrollTop(),left:(m||h).scrollLeft()})):N.imagemap&&h.is("area")?s=N.imagemap(this,h,f,N.viewport?b:A):N.svg&&h&&h[0].ownerSVGElement?s=N.svg(this,h,f,N.viewport?b:A):(_=h.outerWidth(A),x=h.outerHeight(A),T=h.offset()),s&&(_=s.width,x=s.height,a=s.offset,T=s.position),T=this.reposition.offset(h,T,g),(et.iOS>3.1&&et.iOS<4.1||et.iOS>=4.3&&et.iOS<4.33||!et.iOS&&"fixed"===C)&&(T.left-=M.scrollLeft(),T.top-=M.scrollTop()),(!s||s&&s.adjustable!==A)&&(T.left+=f.x===F?_:f.x===q?_/2:0,T.top+=f.y===j?x:f.y===q?x/2:0)}return T.left+=v.x+(p.x===F?-y:p.x===q?-y/2:0),T.top+=v.y+(p.y===j?-w:p.y===q?-w/2:0),N.viewport?(r=T.adjusted=N.viewport(this,T,c,_,x,y,w),a&&r.left&&(T.left+=a.left),a&&r.top&&(T.top+=a.top),r.my&&(this.position.my=r.my)):T.adjusted={left:0,top:0},u.posClass!==(l=this._createPosClass(this.position.my))&&(u.posClass=l,d.removeClass(u.posClass).addClass(l)),this._trigger("move",[T,m.elem||m],i)?(delete T.adjusted,n===A||!O||isNaN(T.left)||isNaN(T.top)||"mouse"===h||!o.isFunction(c.effect)?d.css(T):o.isFunction(c.effect)&&(c.effect.call(d,this,o.extend({},T)),d.queue((function(t){o(this).css({opacity:"",height:""}),et.ie&&this.style.removeAttribute("filter"),t()}))),this.positioning=A,this):this},T.reposition.offset=function(t,i,n){function s(t,e){i.left+=e*t.scrollLeft(),i.top+=e*t.scrollTop()}if(!n[0])return i;var a,r,l,u,d=o(t[0].ownerDocument),c=!!et.ie&&"CSS1Compat"!==e.compatMode,h=n[0];do{"static"!==(r=o.css(h,"position"))&&("fixed"===r?(l=h.getBoundingClientRect(),s(d,-1)):((l=o(h).position()).left+=parseFloat(o.css(h,"borderLeftWidth"))||0,l.top+=parseFloat(o.css(h,"borderTopWidth"))||0),i.left-=l.left+(parseFloat(o.css(h,"marginLeft"))||0),i.top-=l.top+(parseFloat(o.css(h,"marginTop"))||0),a||"hidden"===(u=o.css(h,"overflow"))||"visible"===u||(a=o(h)))}while(h=h.offsetParent);return a&&(a[0]!==d[0]||c)&&s(a,1),i};var nt=(O=T.reposition.Corner=function(t,e){t=(""+t).replace(/([A-Z])/," $1").replace(/middle/gi,q).toLowerCase(),this.x=(t.match(/left|right/i)||t.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(t.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!e;var i=t.charAt(0);this.precedance="t"===i||"b"===i?I:k}).prototype;nt.invert=function(t,e){this[t]=this[t]===E?F:this[t]===F?E:e||this[t]},nt.string=function(t){var e=this.x,i=this.y,o=e!==i?"center"===e||"center"!==i&&(this.precedance===I||this.forceY)?[i,e]:[e,i]:[e];return!1!==t?o.join(" "):o},nt.abbrev=function(){var t=this.string(!1);return t[0].charAt(0)+(t[1]&&t[1].charAt(0)||"")},nt.clone=function(){return new O(this.string(),this.forceY)},T.toggle=function(t,i){var n=this.cache,s=this.options,a=this.tooltip;if(i){if(/over|enter/.test(i.type)&&n.event&&/out|leave/.test(n.event.type)&&s.show.target.add(i.target).length===s.show.target.length&&a.has(i.relatedTarget).length)return this;n.event=o.event.fix(i)}if(this.waiting&&!t&&(this.hiddenDuringWait=L),!this.rendered)return t?this.render(1):this;if(this.destroyed||this.disabled)return this;var r,l,u,d=t?"show":"hide",c=this.options[d],h=this.options.position,p=this.options.content,f=this.tooltip.css("width"),m=this.tooltip.is(":visible"),g=t||1===c.target.length,v=!i||c.target.length<2||n.target[0]===i.target;return(typeof t).search("boolean|number")&&(t=!m),l=(r=!a.is(":animated")&&m===t&&v)?S:!!this._trigger(d,[90]),this.destroyed||(l!==A&&t&&this.focus(i),!l||r||(o.attr(a[0],"aria-hidden",!t),t?(this.mouse&&(n.origin=o.event.fix(this.mouse)),o.isFunction(p.text)&&this._updateContent(p.text,A),o.isFunction(p.title)&&this._updateTitle(p.title,A),!M&&"mouse"===h.target&&h.adjust.mouse&&(o(e).bind("mousemove."+U,this._storeMouse),M=L),f||a.css("width",a.outerWidth(A)),this.reposition(i,arguments[2]),f||a.css("width",""),c.solo&&("string"==typeof c.solo?o(c.solo):o(G,c.solo)).not(a).not(c.target).qtip("hide",new o.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete n.origin,M&&!o(G+'[tracking="true"]:visible',c.solo).not(a).length&&(o(e).unbind("mousemove."+U),M=A),this.blur(i)),u=o.proxy((function(){t?(et.ie&&a[0].style.removeAttribute("filter"),a.css("overflow",""),"string"==typeof c.autofocus&&o(this.options.show.autofocus,a).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):a.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(t?"visible":"hidden")}),this),c.effect===A||g===A?(a[d](),u()):o.isFunction(c.effect)?(a.stop(1,1),c.effect.call(a,this),a.queue("fx",(function(t){u(),t()}))):a.fadeTo(90,t?1:0,u),t&&c.target.trigger("qtip-"+this.id+"-inactive"))),this},T.show=function(t){return this.toggle(L,t)},T.hide=function(t){return this.toggle(A,t)},T.focus=function(t){if(!this.rendered||this.destroyed)return this;var e=o(G),i=this.tooltip,n=parseInt(i[0].style.zIndex,10),s=C.zindex+e.length;return i.hasClass(Y)||this._trigger("focus",[s],t)&&(n!==s&&(e.each((function(){this.style.zIndex>n&&(this.style.zIndex=this.style.zIndex-1)})),e.filter("."+Y).qtip("blur",t)),i.addClass(Y)[0].style.zIndex=s),this},T.blur=function(t){return!this.rendered||this.destroyed||(this.tooltip.removeClass(Y),this._trigger("blur",[this.tooltip.css("zIndex")],t)),this},T.disable=function(t){return this.destroyed||("toggle"===t?t=!(this.rendered?this.tooltip.hasClass(K):this.disabled):"boolean"!=typeof t&&(t=L),this.rendered&&this.tooltip.toggleClass(K,t).attr("aria-disabled",t),this.disabled=!!t),this},T.enable=function(){return this.disable(A)},T._createButton=function(){var t=this,e=this.elements,i=e.tooltip,n=this.options.content.button,s="string"==typeof n?n:"Close tooltip";e.button&&e.button.remove(),n.jquery?e.button=n:e.button=o("<a />",{class:"qtip-close "+(this.options.style.widget?"":U+"-icon"),title:s,"aria-label":s}).prepend(o("<span />",{class:"ui-icon ui-icon-close",html:"&times;"})),e.button.appendTo(e.titlebar||i).attr("role","button").click((function(e){return i.hasClass(K)||t.hide(e),A}))},T._updateButton=function(t){if(!this.rendered)return A;var e=this.elements.button;t?this._createButton():e.remove()},T._setWidget=function(){var t=this.options.style.widget,e=this.elements,i=e.tooltip,o=i.hasClass(K);i.removeClass(K),K=t?"ui-state-disabled":"qtip-disabled",i.toggleClass(K,o),i.toggleClass("ui-helper-reset "+d(),t).toggleClass(X,this.options.style.def&&!t),e.content&&e.content.toggleClass(d("content"),t),e.titlebar&&e.titlebar.toggleClass(d("header"),t),e.button&&e.button.toggleClass(U+"-icon",!t)},T._storeMouse=function(t){return(this.mouse=o.event.fix(t)).type="mousemove",this},T._bind=function(t,e,i,n,s){if(t&&i&&e.length){var a="."+this._id+(n?"-"+n:"");return o(t).bind((e.split?e:e.join(a+" "))+a,o.proxy(i,s||this)),this}},T._unbind=function(t,e){return t&&o(t).unbind("."+this._id+(e?"-"+e:"")),this},T._trigger=function(t,e,i){var n=new o.Event("tooltip"+t);return n.originalEvent=i&&o.extend({},i)||this.cache.event||S,this.triggering=t,this.tooltip.trigger(n,[this].concat(e||[])),this.triggering=A,!n.isDefaultPrevented()},T._bindEvents=function(t,e,i,n,s,a){var r=i.filter(n).add(n.filter(i)),l=[];r.length&&(o.each(e,(function(e,i){var n=o.inArray(i,t);n>-1&&l.push(t.splice(n,1)[0])})),l.length&&(this._bind(r,l,(function(t){(!!this.rendered&&this.tooltip[0].offsetWidth>0?a:s).call(this,t)})),i=i.not(r),n=n.not(r))),this._bind(i,t,s),this._bind(n,e,a)},T._assignInitialEvents=function(t){function e(t){return this.disabled||this.destroyed?A:(this.cache.event=t&&o.event.fix(t),this.cache.target=t&&o(t.target),clearTimeout(this.timers.show),void(this.timers.show=c.call(this,(function(){this.render("object"==typeof t||i.show.ready)}),i.prerender?0:i.show.delay)))}var i=this.options,n=i.show.target,s=i.hide.target,a=i.show.event?o.trim(""+i.show.event).split(" "):[],r=i.hide.event?o.trim(""+i.hide.event).split(" "):[];this._bind(this.elements.target,["remove","removeqtip"],(function(){this.destroy(!0)}),"destroy"),/mouse(over|enter)/i.test(i.show.event)&&!/mouse(out|leave)/i.test(i.hide.event)&&r.push("mouseleave"),this._bind(n,"mousemove",(function(t){this._storeMouse(t),this.cache.onTarget=L})),this._bindEvents(a,r,n,s,e,(function(){return this.timers?void clearTimeout(this.timers.show):A})),(i.show.ready||i.prerender)&&e.call(this,t)},T._assignEvents=function(){var i=this,n=this.options,s=n.position,a=this.tooltip,r=n.show.target,l=n.hide.target,u=s.container,d=s.viewport,c=o(e),g=o(t),v=n.show.event?o.trim(""+n.show.event).split(" "):[],b=n.hide.event?o.trim(""+n.hide.event).split(" "):[];o.each(n.events,(function(t,e){i._bind(a,"toggle"===t?["tooltipshow","tooltiphide"]:["tooltip"+t],e,null,a)})),/mouse(out|leave)/i.test(n.hide.event)&&"window"===n.hide.leave&&this._bind(c,["mouseout","blur"],(function(t){/select|option/.test(t.target.nodeName)||t.relatedTarget||this.hide(t)})),n.hide.fixed?l=l.add(a.addClass(Q)):/mouse(over|enter)/i.test(n.show.event)&&this._bind(l,"mouseleave",(function(){clearTimeout(this.timers.show)})),(""+n.hide.event).indexOf("unfocus")>-1&&this._bind(u.closest("html"),["mousedown","touchstart"],(function(t){var e=o(t.target),i=this.rendered&&!this.tooltip.hasClass(K)&&this.tooltip[0].offsetWidth>0,n=e.parents(G).filter(this.tooltip[0]).length>0;e[0]===this.target[0]||e[0]===this.tooltip[0]||n||this.target.has(e[0]).length||!i||this.hide(t)})),"number"==typeof n.hide.inactive&&(this._bind(r,"qtip-"+this.id+"-inactive",f,"inactive"),this._bind(l.add(a),C.inactiveEvents,f)),this._bindEvents(v,b,r,l,h,p),this._bind(r.add(a),"mousemove",(function(t){if("number"==typeof n.hide.distance){var e=this.cache.origin||{},i=this.options.hide.distance,o=Math.abs;(o(t.pageX-e.pageX)>=i||o(t.pageY-e.pageY)>=i)&&this.hide(t)}this._storeMouse(t)})),"mouse"===s.target&&s.adjust.mouse&&(n.hide.event&&this._bind(r,["mouseenter","mouseleave"],(function(t){return this.cache?void(this.cache.onTarget="mouseenter"===t.type):A})),this._bind(c,"mousemove",(function(t){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(K)&&this.tooltip[0].offsetWidth>0&&this.reposition(t)}))),(s.adjust.resize||d.length)&&this._bind(o.event.special.resize?d:g,"resize",m),s.adjust.scroll&&this._bind(g.add(s.container),"scroll",m)},T._unassignEvents=function(){var i=this.options,n=i.show.target,s=i.hide.target,a=o.grep([this.elements.target[0],this.rendered&&this.tooltip[0],i.position.container[0],i.position.viewport[0],i.position.container.closest("html")[0],t,e],(function(t){return"object"==typeof t}));n&&n.toArray&&(a=a.concat(n.toArray())),s&&s.toArray&&(a=a.concat(s.toArray())),this._unbind(a)._unbind(a,"destroy")._unbind(a,"inactive")},o((function(){g(G,["mouseenter","mouseleave"],(function(t){var e="mouseenter"===t.type,i=o(t.currentTarget),n=o(t.relatedTarget||t.target),s=this.options;e?(this.focus(t),i.hasClass(Q)&&!i.hasClass(K)&&clearTimeout(this.timers.hide)):"mouse"===s.position.target&&s.position.adjust.mouse&&s.hide.event&&s.show.target&&!n.closest(s.show.target[0]).length&&this.hide(t),i.toggleClass(J,e)})),g("["+B+"]",V,f)})),C=o.fn.qtip=function(t,e,n){var s=(""+t).toLowerCase(),a=S,l=o.makeArray(arguments).slice(1),u=l[l.length-1],d=this[0]?o.data(this[0],U):S;return!arguments.length&&d||"api"===s?d:"string"==typeof t?(this.each((function(){var t=o.data(this,U);if(!t)return L;if(u&&u.timeStamp&&(t.cache.event=u),!e||"option"!==s&&"options"!==s)t[s]&&t[s].apply(t,l);else{if(n===i&&!o.isPlainObject(e))return a=t.get(e),A;t.set(e,n)}})),a!==S?a:this):"object"!=typeof t&&arguments.length?void 0:(d=r(o.extend(L,{},t)),this.each((function(t){var e,i;return i=!(i=o.isArray(d.id)?d.id[t]:d.id)||i===A||i.length<1||C.api[i]?C.nextid++:i,(e=v(o(this),i,d))===A?L:(C.api[i]=e,o.each(N,(function(){"initialize"===this.initialize&&this(e)})),void e._assignInitialEvents(u))})))},o.qtip=n,C.api={},o.each({attr:function(t,e){if(this.length){var i=this[0],n="title",s=o.data(i,"qtip");if(t===n&&s&&s.options&&"object"==typeof s&&"object"==typeof s.options&&s.options.suppress)return arguments.length<2?o.attr(i,tt):(s&&s.options.content.attr===n&&s.cache.attr&&s.set("content.text",e),this.attr(tt,e))}return o.fn["attr"+Z].apply(this,arguments)},clone:function(t){var e=o.fn["clone"+Z].apply(this,arguments);return t||e.filter("["+tt+"]").attr("title",(function(){return o.attr(this,tt)})).removeAttr(tt),e}},(function(t,e){if(!e||o.fn[t+Z])return L;var i=o.fn[t+Z]=o.fn[t];o.fn[t]=function(){return e.apply(this,arguments)||i.apply(this,arguments)}})),o.ui||(o["cleanData"+Z]=o.cleanData,o.cleanData=function(t){for(var e,i=0;(e=o(t[i])).length;i++)if(e.attr(z))try{e.triggerHandler("removeqtip")}catch(t){}o["cleanData"+Z].apply(this,arguments)}),C.version="3.0.3",C.nextid=0,C.inactiveEvents=V,C.zindex=15e3,C.defaults={prerender:A,id:A,overwrite:L,suppress:L,content:{text:L,attr:"title",title:A,button:A},position:{my:"top left",at:"bottom right",target:A,container:A,viewport:A,adjust:{x:0,y:0,mouse:L,scroll:L,resize:L,method:"flipinvert flipinvert"},effect:function(t,e){o(this).animate(e,{duration:200,queue:A})}},show:{target:A,event:"mouseenter",effect:L,delay:90,solo:A,ready:A,autofocus:A},hide:{target:A,event:"mouseleave",effect:L,delay:0,fixed:A,inactive:A,leave:"window",distance:A},style:{classes:"",widget:A,width:A,height:A,def:L},events:{render:S,move:S,show:S,hide:S,toggle:S,visible:S,hidden:S,focus:S,blur:S}};var st,at,rt,lt,ut,dt="margin",ct="border",ht="color",pt="background-color",ft="transparent",mt=" !important",gt=!!e.createElement("canvas").getContext,vt=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,bt={},yt=["Webkit","O","Moz","ms"];gt?(lt=t.devicePixelRatio||1,ut=function(){var t=e.createElement("canvas").getContext("2d");return t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||1}(),rt=lt/ut):at=function(t,e,i){return"<qtipvml:"+t+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(e||"")+' style="behavior: url(#default#VML); '+(i||"")+'" />'},o.extend(w.prototype,{init:function(t){var e,i;i=this.element=t.elements.tip=o("<div />",{class:U+"-tip"}).prependTo(t.tooltip),gt?((e=o("<canvas />").appendTo(this.element)[0].getContext("2d")).lineJoin="miter",e.miterLimit=1e5,e.save()):(e=at("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(e+e),t._bind(o("*",i).add(i),["click","mousedown"],(function(t){t.stopPropagation()}),this._ns)),t._bind(t.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(t){var e=this.qtip.elements.titlebar;return e&&(t.y===R||t.y===q&&this.element.position().top+this.size[1]/2+this.options.offset<e.outerHeight(L))},_parseCorner:function(t){var e=this.qtip.options.position.my;return t===A||e===A?t=A:t===L?t=new O(e.string()):t.string||((t=new O(t)).fixed=L),t},_parseWidth:function(t,e,i){var o=this.qtip.elements,n=ct+b(e)+"Width";return(i?y(i,n):y(o.content,n)||y(this._useTitle(t)&&o.titlebar||o.content,n)||y(o.tooltip,n))||0},_parseRadius:function(t){var e=this.qtip.elements,i=ct+b(t.y)+b(t.x)+"Radius";return et.ie<9?0:y(this._useTitle(t)&&e.titlebar||e.content,i)||y(e.tooltip,i)||0},_invalidColour:function(t,e,i){var o=t.css(e);return!o||i&&o===t.css(i)||vt.test(o)?A:o},_parseColours:function(t){var e=this.qtip.elements,i=this.element.css("cssText",""),n=ct+b(t[t.precedance])+b(ht),s=this._useTitle(t)&&e.titlebar||e.content,a=this._invalidColour,r=[];return r[0]=a(i,pt)||a(s,pt)||a(e.content,pt)||a(e.tooltip,pt)||i.css(pt),r[1]=a(i,n,ht)||a(s,n,ht)||a(e.content,n,ht)||a(e.tooltip,n,ht)||e.tooltip.css(n),o("*",i).add(i).css("cssText",pt+":"+ft+mt+";"+ct+":0"+mt+";"),r},_calculateSize:function(t){var e,i,o=t.precedance===I,n=this.options.width,s=this.options.height,a="c"===t.abbrev(),r=(o?n:s)*(a?.5:1),l=Math.pow,u=Math.round,d=Math.sqrt(l(r,2)+l(s,2)),c=[this.border/r*d,this.border/s*d];return c[2]=Math.sqrt(l(c[0],2)-l(this.border,2)),c[3]=Math.sqrt(l(c[1],2)-l(this.border,2)),i=[u((e=(d+c[2]+c[3]+(a?0:c[0]))/d)*n),u(e*s)],o?i:i.reverse()},_calculateTip:function(t,e,i){i=i||1;var o=(e=e||this.size)[0]*i,n=e[1]*i,s=Math.ceil(o/2),a=Math.ceil(n/2),r={br:[0,0,o,n,o,0],bl:[0,0,o,0,0,n],tr:[0,n,o,0,o,n],tl:[0,0,0,n,o,n],tc:[0,n,s,0,o,n],bc:[0,0,o,0,s,n],rc:[0,0,o,a,0,n],lc:[o,0,o,n,0,a]};return r.lt=r.br,r.rt=r.bl,r.lb=r.tr,r.rb=r.tl,r[t.abbrev()]},_drawCoords:function(t,e){t.beginPath(),t.moveTo(e[0],e[1]),t.lineTo(e[2],e[3]),t.lineTo(e[4],e[5]),t.closePath()},create:function(){var t=this.corner=(gt||et.ie)&&this._parseCorner(this.options.corner);return this.enabled=!!this.corner&&"c"!==this.corner.abbrev(),this.enabled&&(this.qtip.cache.corner=t.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(e,i){if(!this.enabled)return this;var n,s,a,r,l,u,d,c,h=this.qtip.elements,p=this.element,f=p.children(),m=this.options,g=this.size,v=m.mimic,b=Math.round;e||(e=this.qtip.cache.corner||this.corner),v===A?v=e:((v=new O(v)).precedance=e.precedance,"inherit"===v.x?v.x=e.x:"inherit"===v.y?v.y=e.y:v.x===v.y&&(v[e.precedance]=e[e.precedance])),s=v.precedance,e.precedance===k?this._swapDimensions():this._resetDimensions(),(n=this.color=this._parseColours(e))[1]!==ft?(c=this.border=this._parseWidth(e,e[e.precedance]),m.border&&1>c&&!vt.test(n[1])&&(n[0]=n[1]),this.border=c=m.border!==L?m.border:c):this.border=c=0,d=this.size=this._calculateSize(e),p.css({width:d[0],height:d[1],lineHeight:d[1]+"px"}),u=e.precedance===I?[b(v.x===E?c:v.x===F?d[0]-g[0]-c:(d[0]-g[0])/2),b(v.y===R?d[1]-g[1]:0)]:[b(v.x===E?d[0]-g[0]:0),b(v.y===R?c:v.y===j?d[1]-g[1]-c:(d[1]-g[1])/2)],gt?((a=f[0].getContext("2d")).restore(),a.save(),a.clearRect(0,0,6e3,6e3),r=this._calculateTip(v,g,rt),l=this._calculateTip(v,this.size,rt),f.attr(P,d[0]*rt).attr(D,d[1]*rt),f.css(P,d[0]).css(D,d[1]),this._drawCoords(a,l),a.fillStyle=n[1],a.fill(),a.translate(u[0]*rt,u[1]*rt),this._drawCoords(a,r),a.fillStyle=n[0],a.fill()):(r="m"+(r=this._calculateTip(v))[0]+","+r[1]+" l"+r[2]+","+r[3]+" "+r[4]+","+r[5]+" xe",u[2]=c&&/^(r|b)/i.test(e.string())?8===et.ie?2:1:0,f.css({coordsize:d[0]+c+" "+d[1]+c,antialias:""+(v.string().indexOf(q)>-1),left:u[0]-u[2]*Number(s===k),top:u[1]-u[2]*Number(s===I),width:d[0]+c,height:d[1]+c}).each((function(t){var e=o(this);e[e.prop?"prop":"attr"]({coordsize:d[0]+c+" "+d[1]+c,path:r,fillcolor:n[0],filled:!!t,stroked:!t}).toggle(!(!c&&!t)),!t&&e.html(at("stroke",'weight="'+2*c+'px" color="'+n[1]+'" miterlimit="1000" joinstyle="miter"'))}))),t.opera&&setTimeout((function(){h.tip.css({display:"inline-block",visibility:"visible"})}),1),i!==A&&this.calculate(e,d)},calculate:function(t,e){if(!this.enabled)return A;var i,n,s=this,a=this.qtip.elements,r=this.element,l=this.options.offset,u={};return t=t||this.corner,i=t.precedance,e=e||this._calculateSize(t),n=[t.x,t.y],i===k&&n.reverse(),o.each(n,(function(o,n){var r,d,c;n===q?(u[r=i===I?E:R]="50%",u[dt+"-"+r]=-Math.round(e[i===I?0:1]/2)+l):(r=s._parseWidth(t,n,a.tooltip),d=s._parseWidth(t,n,a.content),c=s._parseRadius(t),u[n]=Math.max(-s.border,o?d:l+(c>r?c:-r)))})),u[t[i]]-=e[i===k?0:1],r.css({margin:"",top:"",bottom:"",left:"",right:""}).css(u),u},reposition:function(t,e,o){function n(t,e,i,o,n){t===H&&u.precedance===e&&d[o]&&u[i]!==q?u.precedance=u.precedance===k?I:k:t!==H&&d[o]&&(u[e]=u[e]===q?d[o]>0?o:n:u[e]===o?n:o)}function s(t,e,n){u[t]===q?m[dt+"-"+e]=f[t]=a[dt+"-"+e]-d[e]:(r=a[n]!==i?[d[e],-a[e]]:[-d[e],a[e]],(f[t]=Math.max(r[0],r[1]))>r[0]&&(o[e]-=d[e],f[e]=A),m[a[n]!==i?n:e]=f[t])}if(this.enabled){var a,r,l=e.cache,u=this.corner.clone(),d=o.adjusted,c=e.options.position.adjust.method.split(" "),h=c[0],p=c[1]||c[0],f={left:A,top:A,x:0,y:0},m={};this.corner.fixed!==L&&(n(h,k,I,E,F),n(p,I,k,R,j),u.string()===l.corner.string()&&l.cornerTop===d.top&&l.cornerLeft===d.left||this.update(u,A)),(a=this.calculate(u)).right!==i&&(a.left=-a.right),a.bottom!==i&&(a.top=-a.bottom),a.user=this.offset,f.left=h===H&&!!d.left,f.left&&s(k,E,F),f.top=p===H&&!!d.top,f.top&&s(I,R,j),this.element.css(m).toggle(!(f.x&&f.y||u.x===q&&f.y||u.y===q&&f.x)),o.left-=a.left.charAt?a.user:h!==H||f.top||!f.left&&!f.top?a.left+this.border:0,o.top-=a.top.charAt?a.user:p!==H||f.left||!f.left&&!f.top?a.top+this.border:0,l.cornerLeft=d.left,l.cornerTop=d.top,l.corner=u.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),(st=N.tip=function(t){return new w(t,t.options.style.tip)}).initialize="render",st.sanitize=function(t){if(t.style&&"tip"in t.style){var e=t.style.tip;"object"!=typeof e&&(e=t.style.tip={corner:e}),/string|boolean/i.test(typeof e.corner)||(e.corner=L)}},$.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(t){this.size=[t.width,t.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},o.extend(L,C.defaults,{style:{tip:{corner:L,mimic:A,width:6,height:6,border:L,offset:0}}});var wt,_t,xt="qtip-modal",Ct="."+xt;_t=new(_t=function(){function t(t){l.length<1&&t.length?t.not("body").blur():l.first().focus()}function i(e){if(a.is(":visible")){var i=o(e.target),s=n.tooltip,r=i.closest(G);(r.length<1?A:parseInt(r[0].style.zIndex,10)>parseInt(s[0].style.zIndex,10))||i.closest(G)[0]===s[0]||t(i)}}var n,s,a,r=this,l={};o.extend(r,{init:function(){return a=r.elem=o("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return A}}).hide(),o(e.body).bind("focusin"+Ct,i),o(e).bind("keydown"+Ct,(function(t){n&&n.options.show.modal.escape&&27===t.keyCode&&n.hide(t)})),a.bind("click"+Ct,(function(t){n&&n.options.show.modal.blur&&n.hide(t)})),r},update:function(t){n=t,l=t.options.show.modal.stealfocus!==A?t.tooltip.find("*").filter((function(){return function(t){if(o.expr[":"].focusable)return o.expr[":"].focusable;var e,i,n,s=!isNaN(o.attr(t,"tabindex")),a=t.nodeName&&t.nodeName.toLowerCase();return"area"===a?(i=(e=t.parentNode).name,!(!t.href||!i||"map"!==e.nodeName.toLowerCase())&&!!(n=o("img[usemap=#"+i+"]")[0])&&n.is(":visible")):/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a&&t.href||s}(this)})):[]},toggle:function(i,l,u){var d=i.tooltip,c=i.options.show.modal,h=c.effect,p=l?"show":"hide",f=a.is(":visible"),m=o(Ct).filter(":visible:not(:animated)").not(d);return r.update(i),l&&c.stealfocus!==A&&t(o(":focus")),a.toggleClass("blurs",c.blur),l&&a.appendTo(e.body),a.is(":animated")&&f===l&&s!==A||!l&&m.length||(a.stop(L,A),o.isFunction(h)?h.call(a,l):h===A?a[p]():a.fadeTo(parseInt(u,10)||90,l?1:0,(function(){l||a.hide()})),l||a.queue((function(t){a.css({left:"",top:""}),o(Ct).length||a.detach(),t()})),s=l,n.destroyed&&(n=S)),r}}),r.init()}),o.extend(_.prototype,{init:function(t){var e=t.tooltip;return this.options.on?(t.elements.overlay=_t.elem,e.addClass(xt).css("z-index",C.modal_zindex+o(Ct).length),t._bind(e,["tooltipshow","tooltiphide"],(function(t,i,n){var s=t.originalEvent;if(t.target===e[0])if(s&&"tooltiphide"===t.type&&/mouse(leave|enter)/.test(s.type)&&o(s.relatedTarget).closest(_t.elem[0]).length)try{t.preventDefault()}catch(t){}else(!s||s&&"tooltipsolo"!==s.type)&&this.toggle(t,"tooltipshow"===t.type,n)}),this._ns,this),t._bind(e,"tooltipfocus",(function(t,i){if(!t.isDefaultPrevented()&&t.target===e[0]){var n=o(Ct),s=C.modal_zindex+n.length,a=parseInt(e[0].style.zIndex,10);_t.elem[0].style.zIndex=s-1,n.each((function(){this.style.zIndex>a&&(this.style.zIndex-=1)})),n.filter("."+Y).qtip("blur",t.originalEvent),e.addClass(Y)[0].style.zIndex=s,_t.update(i);try{t.preventDefault()}catch(t){}}}),this._ns,this),void t._bind(e,"tooltiphide",(function(t){t.target===e[0]&&o(Ct).filter(":visible").not(e).last().qtip("focus",t)}),this._ns,this)):this},toggle:function(t,e,i){return t&&t.isDefaultPrevented()?this:void _t.toggle(this.qtip,!!e,i)},destroy:function(){this.qtip.tooltip.removeClass(xt),this.qtip._unbind(this.qtip.tooltip,this._ns),_t.toggle(this.qtip,A),delete this.qtip.elements.overlay}}),(wt=N.modal=function(t){return new _(t,t.options.show.modal)}).sanitize=function(t){t.show&&("object"!=typeof t.show.modal?t.show.modal={on:!!t.show.modal}:void 0===t.show.modal.on&&(t.show.modal.on=L))},C.modal_zindex=C.zindex-200,wt.initialize="render",$.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}},o.extend(L,C.defaults,{show:{modal:{on:A,effect:L,blur:L,stealfocus:L,escape:L}}}),N.viewport=function(i,o,n,s,a,r,l){function u(t,e,i,n,s,a,r,l,u){var d=o[s],b=w[t],y=_[t],x=i===H,C=b===s?u:b===a?-u:-u/2,T=y===s?l:y===a?-l:-l/2,O=g[s]+v[s]-(p?0:h[s]),$=O-d,M=d+u-(r===P?f:m)-O,L=C-(w.precedance===t||b===w[e]?T:0)-(y===q?l/2:0);return x?(L=(b===s?1:-1)*C,o[s]+=$>0?$:M>0?-M:0,o[s]=Math.max(-h[s]+v[s],d-L,Math.min(Math.max(-h[s]+v[s]+(r===P?f:m),d+L),o[s],"center"===b?d-C:1e9))):(n*="flipinvert"===i?2:0,$>0&&(b!==s||M>0)?(o[s]-=L+n,c.invert(t,s)):M>0&&(b!==a||$>0)&&(o[s]-=(b===q?-L:L)+n,c.invert(t,a)),o[s]<g[s]&&-o[s]>M&&(o[s]=d,c=w.clone())),o[s]-d}var d,c,h,p,f,m,g,v,b=n.target,y=i.elements.tooltip,w=n.my,_=n.at,x=n.adjust,C=x.method.split(" "),T=C[0],O=C[1]||C[0],$=n.viewport,M=n.container,L={left:0,top:0};return $.jquery&&b[0]!==t&&b[0]!==e.body&&"none"!==x.method?(h=M.offset()||L,p="static"===M.css("position"),d="fixed"===y.css("position"),f=$[0]===t?$.width():$.outerWidth(A),m=$[0]===t?$.height():$.outerHeight(A),g={left:d?0:$.scrollLeft(),top:d?0:$.scrollTop()},v=$.offset()||L,"shift"===T&&"shift"===O||(c=w.clone()),L={left:"none"!==T?u(k,I,T,x.x,E,F,P,s,r):0,top:"none"!==O?u(I,k,O,x.y,R,j,D,a,l):0,my:c}):L},N.polys={polygon:function(t,e){var i,o,n,s={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:A},a=0,r=[],l=1,u=1,d=0,c=0;for(a=t.length;a--;)(i=[parseInt(t[--a],10),parseInt(t[a+1],10)])[0]>s.position.right&&(s.position.right=i[0]),i[0]<s.position.left&&(s.position.left=i[0]),i[1]>s.position.bottom&&(s.position.bottom=i[1]),i[1]<s.position.top&&(s.position.top=i[1]),r.push(i);if(o=s.width=Math.abs(s.position.right-s.position.left),n=s.height=Math.abs(s.position.bottom-s.position.top),"c"===e.abbrev())s.position={left:s.position.left+s.width/2,top:s.position.top+s.height/2};else{for(;o>0&&n>0&&l>0&&u>0;)for(o=Math.floor(o/2),n=Math.floor(n/2),e.x===E?l=o:e.x===F?l=s.width-o:l+=Math.floor(o/2),e.y===R?u=n:e.y===j?u=s.height-n:u+=Math.floor(n/2),a=r.length;a--&&!(r.length<2);)d=r[a][0]-s.position.left,c=r[a][1]-s.position.top,(e.x===E&&d>=l||e.x===F&&l>=d||e.x===q&&(l>d||d>s.width-l)||e.y===R&&c>=u||e.y===j&&u>=c||e.y===q&&(u>c||c>s.height-u))&&r.splice(a,1);s.position={left:r[0][0],top:r[0][1]}}return s},rect:function(t,e,i,o){return{width:Math.abs(i-t),height:Math.abs(o-e),position:{left:Math.min(t,i),top:Math.min(e,o)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(t,e,i,o,n){var s=N.polys._angles[n.abbrev()],a=0===s?0:i*Math.cos(s*Math.PI),r=o*Math.sin(s*Math.PI);return{width:2*i-Math.abs(a),height:2*o-Math.abs(r),position:{left:t+a,top:e+r},adjustable:A}},circle:function(t,e,i,o){return N.polys.ellipse(t,e,i,i,o)}},N.svg=function(t,i,n){for(var s,a,r,l,u,d,c,h,p,f=i[0],m=o(f.ownerSVGElement),g=f.ownerDocument,v=(parseInt(i.css("stroke-width"),10)||0)/2;!f.getBBox;)f=f.parentNode;if(!f.getBBox||!f.parentNode)return A;switch(f.nodeName){case"ellipse":case"circle":h=N.polys.ellipse(f.cx.baseVal.value,f.cy.baseVal.value,(f.rx||f.r).baseVal.value+v,(f.ry||f.r).baseVal.value+v,n);break;case"line":case"polygon":case"polyline":for(h=[],d=-1,l=(c=f.points||[{x:f.x1.baseVal.value,y:f.y1.baseVal.value},{x:f.x2.baseVal.value,y:f.y2.baseVal.value}]).numberOfItems||c.length;++d<l;)u=c.getItem?c.getItem(d):c[d],h.push.apply(h,[u.x,u.y]);h=N.polys.polygon(h,n);break;default:h={width:(h=f.getBBox()).width,height:h.height,position:{left:h.x,top:h.y}}}return p=h.position,(m=m[0]).createSVGPoint&&(a=f.getScreenCTM(),(c=m.createSVGPoint()).x=p.left,c.y=p.top,r=c.matrixTransform(a),p.left=r.x,p.top=r.y),g!==e&&"mouse"!==t.position.target&&((s=o((g.defaultView||g.parentWindow).frameElement).offset())&&(p.left+=s.left,p.top+=s.top)),g=o(g),p.left+=g.scrollLeft(),p.top+=g.scrollTop(),h},N.imagemap=function(t,e,i){e.jquery||(e=o(e));var n,s,a,r,l,u=(e.attr("shape")||"rect").toLowerCase().replace("poly","polygon"),d=o('img[usemap="#'+e.parent("map").attr("name")+'"]'),c=o.trim(e.attr("coords")).replace(/,$/,"").split(",");if(!d.length)return A;if("polygon"===u)r=N.polys.polygon(c,i);else{if(!N.polys[u])return A;for(a=-1,l=c.length,s=[];++a<l;)s.push(parseInt(c[a],10));r=N.polys[u].apply(this,s.concat(i))}return(n=d.offset()).left+=Math.ceil((d.outerWidth(A)-d.width())/2),n.top+=Math.ceil((d.outerHeight(A)-d.height())/2),r.position.left+=n.left,r.position.top+=n.top,r};o.extend(x.prototype,{_scroll:function(){var e=this.qtip.elements.overlay;e&&(e[0].style.top=o(t).scrollTop()+"px")},init:function(i){var n=i.tooltip;o("select, object").length<1&&(this.bgiframe=i.elements.bgiframe=o('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>').appendTo(n),i._bind(n,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=o("<div/>",{id:U+"-rcontainer"}).appendTo(e.body),i.elements.overlay&&i.elements.overlay.addClass("qtipmodal-ie6fix")&&(i._bind(t,["scroll","resize"],this._scroll,this._ns,this),i._bind(n,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var t,e,i=this.qtip.tooltip,o={height:i.outerHeight(A),width:i.outerWidth(A)},n=this.qtip.plugins.tip,s=this.qtip.elements.tip;e={left:-(e=parseInt(i.css("borderLeftWidth"),10)||0),top:-e},n&&s&&(e[(t="x"===n.corner.precedance?[P,E]:[D,R])[1]]-=s[t[0]]()),this.bgiframe.css(e).css(o)},redraw:function(){if(this.qtip.rendered<1||this.drawing)return this;var t,e,i,o,n=this.qtip.tooltip,s=this.qtip.options.style,a=this.qtip.options.position.container;return this.qtip.drawing=1,s.height&&n.css(D,s.height),s.width?n.css(P,s.width):(n.css(P,"").appendTo(this.redrawContainer),1>(e=n.width())%2&&(e+=1),t=((i=n.css("maxWidth")||"")+(o=n.css("minWidth")||"")).indexOf("%")>-1?a.width()/100:0,e=(i=(i.indexOf("%")>-1?t:1*parseInt(i,10))||e)+(o=(o.indexOf("%")>-1?t:1*parseInt(o,10))||0)?Math.min(Math.max(e,o),i):e,n.css(P,Math.round(e)).appendTo(a)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([t,this.qtip.tooltip],this._ns)}}),(N.ie6=function(t){return 6===et.ie?new x(t):A}).initialize="render",$.ie6={"^content|style$":function(){this.redraw()}}}))}(window,document),function(t){t.manageAjax.create("allmusic.averageUserRatingAJAX",{cacheResponse:!1,queue:!1}),t.widget("allmusic.averageUserRating",{options:{itemId:"",score:0,count:0,spriteClasses:["rating-average-00","rating-average-01","rating-average-02","rating-average-03","rating-average-04","rating-average-05","rating-average-06","rating-average-07","rating-average-08","rating-average-09","rating-average-10"]},_create:function(){this.options.itemId=this.element.data("id"),this.element.data("score")&&(this.options.score=this.element.data("score")),this._displayRating(this.options.score),t('.average-user-rating-count[data-id="'+this.options.itemId+'"]').text(this.options.count.toLocaleString())},_setOptions:function(e){if(void 0!==e.score&&this._displayRating(e.score),e.count&&(t('.average-user-rating-count[data-id="'+this.options.itemId+'"]').text(e.count.toLocaleString()),this.element.closest(".discography, .appearances, .list-container, .similar-albums").length)){var i=this.element.closest("td"),o=e.score/100+e.count/1e8+"-"+i.data("secondary-sort");i.data("sort-value",o)}},_displayRating:function(t){var e=this.options.spriteClasses[0];t>0&&(e=10===t?"rating-average-"+t:"rating-average-0"+t),this.element.removeClass(this.options.spriteClasses.join(" ")).addClass(e)},refresh:function(){var e=this;t.manageAjax.add("allmusic.averageUserRatingAJAX",{url:protocol+urlSubdomain+".allmusic.com/rating/average/"+e.options.itemId,dataType:"json",cache:!1,success:function(t){if(t.length){var i=t[0];e._setOptions({score:Math.ceil(i.average/10),count:i.count})}}})}}),(initAverageUserRatings=function(){var e,i=[];for(e=t(this).find(".average-user-rating").not(".allmusic-averageUserRating").each((function(){var e=t(this),o=e.data("id"),n=e.data("score");void 0!==n?e.averageUserRating({score:Math.ceil(n/10)}):(e.averageUserRating(),i.push(o))}));i.length;)t.manageAjax.add("allmusic.averageUserRatingAJAX",{url:protocol+urlSubdomain+".allmusic.com/rating/average/"+i.splice(0,20).join(","),dataType:"json",cache:!1,success:function(t){if(t.length)for(var i in t){var o=t[i];e.filter('[data-id="'+o.itemId+'"]').averageUserRating({score:Math.ceil(o.average/10),count:o.count})}}})}).call(document)}(jQuery),function(t){t.manageAjax.create("allmusic.userRating",{cacheResponse:!1,queue:!1}),t.widget("allmusic.userRating",{options:{artist:null,id:"",score:0,spriteClasses:["rating-user-00","rating-user-01","rating-user-02","rating-user-03","rating-user-04","rating-user-05","rating-user-06","rating-user-07","rating-user-08","rating-user-09","rating-user-10"],title:null},_create:function(){var e=this;t.extend(e.options,e.element.data()),e._displayRating(e.options.score),enquire.register("screen and (min-width: "+fullMinWidth+"px)",{match:function(){e._bindMouseInteraction()},unmatch:function(){e.element.unbind(".userRating.mouse")}}),enquire.register("screen and (max-width: "+mobileMaxWidth+"px)",{match:function(){e._bindTouchInteraction()},unmatch:function(){e.element.unbind(".userRating.touch")}})},_setOptions:function(e){var i=this;t.extend(i.options,e),void 0!==e.score&&i._displayRating(i.options.score)},_displayRating:function(t){var e=this,i=e.options.spriteClasses[0];t>0&&(i=10===t?"rating-user-"+t:"rating-user-0"+t),e.element.removeClass(e.options.spriteClasses.join(" ")).addClass(i)},_eventToScore:function(e){(e.originalEvent.touches||e.originalEvent.changedTouches)&&(e=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0]);t(e.target);var i=(e.offsetX||e.pageX-t(e.target).offset().left)/t(e.target).width();return Math.min(Math.max(Math.ceil(10*i),0),10)},_showTooltip:function(){0===this.element.closest(".tooltip").length&&t().qtip&&(t("<div>").qtip({show:{ready:!0,solo:!0},position:{my:"top center",at:"bottom center",viewport:t(window),target:this.element,adjust:{}},style:{classes:"ratings-signup-tooltip",tip:{corner:!0,width:12,height:6}},hide:{delay:200,fixed:!0,inactive:5e3,event:"mouseleave"},content:{text:'<p>Sign up or log in to rate albums and get personalized recommendations.</p><a class="button sign-up" href="/join">Sign Up</a><a class="button open-login-modal" href="#" aria-label="Log in">Log In</a><div id="login-fb"><a href="/oauth/facebook" class="button facebook-login" target="_parent" title="Log In Using Facebook" rel="nofollow" aria-label="Log in using Facebook"><span class="text">LOG IN USING FACEBOOK</span><span class="icon"></span></a></div><div id="login-google"><a href="/oauth/google" class="button google-login" target="_parent" title="Log In Using Google" rel="nofollow" aria-label="Log in using Google"><span class="text">LOG IN USING GOOGLE</span><span class="icon"></span></div>'},events:{hide:function(t,e){e.destroy()}}}),t(document).on("click",".ratings-signup-tooltip .open-login-modal",(function(){t(".ratings-signup-tooltip").qtip("hide")})))},_bindMouseInteraction:function(){var t,e=this;e.element.on({"click.userRating.mouse":function(i){if(User.loggedIn)t=e._eventToScore(i),e.options.score=t,e._displayRating(e.options.score),e._saveRating();else{if("sessionStorage"in window){t=e._eventToScore(i),sessionStorage.setItem("albumRating",t);var o=e.options.id;sessionStorage.setItem("albumId",o)}e._showTooltip()}},"mousemove.userRating.mouse":function(t){if(!Modernizr.touch){var i=e._eventToScore(t);e._displayRating(i)}},"mouseout.userRating.mouse":function(t){Modernizr.touch||(e.options.score>0?e._displayRating(e.options.score):e._displayRating(0))}})},_bindTouchInteraction:function(){var t=this;t.element.on({"click.userRating.touch":function(e){e.preventDefault(),User.loggedIn?t._openMobileRatingModal():t._openMobileLoginModal()}})},_openMobileLoginModal:function(){this.element.remove(".user-rating-mobile-login-modal"),t("body").on("touchmove.userRating.preventScrolling",(function(t){t.preventDefault()})),t('<div class="user-rating-mobile-login-modal">').css({position:"fixed",top:0,left:0,zIndex:51,width:"100%",height:"100%"}).html('<h2>Sign up to log in to your AllMusic account to rate albums and get personalized recommendations.</h2><p><a href="/join" class="button">Sign Up</a></p><p><a href="#" class="button open-login-modal" aria-label="Log in">Log In</a></p><div id="login-fb"><a href="/oauth/facebook" class="button facebook-login" target="_parent" title="Log In Using Facebook" rel="nofollow" aria-label="Log in using Facebook"><span class="text">LOG IN USING FACEBOOK</span><span class="icon"></span></a></div><div id="login-google"><a href="/oauth/google" class="button google-login" target="_parent" title="Log In Using Google" rel="nofollow" aria-label="Log in using Google"><span class="text">LOG IN USING GOOGLE</span><span class="icon"></span></div><a href="#" class="close" aria-label="Close window">CLOSE [X]</a>').appendTo("body").find(".close").click((function(e){e.preventDefault(),t(this).parent().remove(),t("body").unbind("touchmove.userRating.preventScrolling")}))},_openMobileRatingModal:function(){var e,i,o,n=this;n.element.remove(".user-rating-mobile-rating-modal"),t("body").addClass("modal-open"),i="<h1>Your Rating:</h1>",n.options.artist&&(i+='<p class="artist">'+n.options.artist+"</p>"),n.options.title&&(i+='<p class="title">'+n.options.title+"</p>"),i+='<p class="mobile-user-rating"></p><a href="#" class="close" aria-label="Close window">CLOSE [X]</a>',e=t('<div class="user-rating-mobile-rating-modal">').css({position:"fixed",top:0,left:0,zIndex:51,width:"100%",height:"100%"}).html(i),o=10===n.options.score?"rating-user-"+n.options.score:"rating-user-0"+n.options.score,e.find(".mobile-user-rating").addClass(o),e.find(".close").click((function(e){e.preventDefault(),t(this).closest(".user-rating-mobile-rating-modal").remove(),t("body").removeClass("modal-open")})),e.appendTo("body"),e.find(".mobile-user-rating").on({"touchstart.userRating.touch touchmove.userRating.touch":function(e){e.preventDefault();var i,o=n._eventToScore(e);i=10===o?"rating-user-"+o:"rating-user-0"+o,t(this).removeClass(n.options.spriteClasses.join(" ")).addClass(i)},"touchend.userRating.touch":function(e){e.preventDefault();var i=n._eventToScore(e);n.options.score=i,n._displayRating(n.options.score),n._saveRating(),t(this).closest(".user-rating-mobile-rating-modal").remove(),t("body").unbind("touchmove.userRating.preventScrolling")},"touchcancel.userRating.touch":function(e){var i;e.preventDefault(),i=10===n.options.score?"rating-user-"+n.options.score:"rating-user-0"+n.options.score,t(this).removeClass(n.options.spriteClasses.join(" ")).addClass(i)},"click.userRating.touch":function(t){t.preventDefault();var e=n._eventToScore(t);n.options.score=e,n._displayRating(n.options.score),n._saveRating()},"mousemove.userRating.touch":function(e){if(!Modernizr.touch){var i,o=n._eventToScore(e);i=10===o?"rating-user-"+o:"rating-user-0"+o,t(this).removeClass(n.options.spriteClasses.join(" ")).addClass(i)}},"mouseout.userRating.touch":function(e){var i;Modernizr.touch||(n.options.score>0?(i=10===n.options.score?"rating-user-"+n.options.score:"rating-user-0"+n.options.score,t(this).removeClass(n.options.spriteClasses.join(" ")).addClass(i)):t(this).removeClass(n.options.spriteClasses.join(" ")).addClass("rating-user-0"))}})},_saveRating:function(){var e=this;t.post(protocol+urlSubdomain+".allmusic.com/rating/save",{id:e.options.id,score:10*e.options.score},(function(){t(window.parent.document).find(".user-rating").filter('[data-id="'+e.options.id+'"]').each((function(){var i=t(this);i.removeClass("rating-user-00"),i.removeClass("rating-user-01"),i.removeClass("rating-user-02"),i.removeClass("rating-user-03"),i.removeClass("rating-user-04"),i.removeClass("rating-user-05"),i.removeClass("rating-user-06"),i.removeClass("rating-user-07"),i.removeClass("rating-user-08"),i.removeClass("rating-user-09"),i.removeClass("rating-user-10"),i.userRating({score:e.options.score})}));t().averageUserRating&&t(window.parent.document).find(".average-user-rating").filter('[data-id="'+e.options.id+'"]').averageUserRating("refresh")}))}}),(initUserRatings=function(){var e,i=[],o=!1,n=!1;"sessionStorage"in window&&(o=sessionStorage.getItem("albumRating"),n=sessionStorage.getItem("albumId")),User.loggedIn&&o&&n&&(t.post(protocol+urlSubdomain+".allmusic.com/rating/save",{id:n,score:10*o},(function(){var e;e=10===o?"rating-user-"+o:"rating-user-0"+o,t(".user-rating").addClass(e)})),sessionStorage.removeItem("albumRating"),sessionStorage.removeItem("albumId")),e=t(this).find(".user-rating").not(":allmusic-userRating").each((function(){var e=t(this),o=e.data("score");void 0!==o?e.userRating({score:Math.ceil(o/10)}):(e.userRating(),i.push(e.data("id")))}));for(;i.length;)t.manageAjax.add("allmusic.userRating",{url:protocol+urlSubdomain+".allmusic.com/rating/user/"+i.splice(0,20).join(","),dataType:"json",cache:!1,success:function(t){if(t.length)for(var i in t){var o=t[i];e.filter('[data-id="'+o.itemId+'"]').userRating({score:Math.ceil(o.score/10)})}}})}).call(document)}(jQuery),function(t){t.widget("allmusic.tooltip",{options:{id:"",thumbnail:!1,position:{my:"left center",at:"right center",adjust:{x:5}}},_create:function(){var e=this;return null==navigator.userAgent.match(/(iPhone OS)/i)&&(!isMobile_AllMusic&&(t.extend(e.options,e.element.data("tooltip")),void(t().qtip&&e.element.qtip({position:{my:e.options.position.my,at:e.options.position.at,viewport:t(window),adjust:e.options.position.adjust},style:{classes:"tooltip",tip:{width:16,height:8}},show:{solo:!0,delay:800},hide:{delay:800,fixed:!0,inactive:5e3,event:"mouseleave"},content:{text:function(i,o){return t.ajax({url:e._url(),data:{thumbnail:e.options.thumbnail},loading:!1,cache:!1===User.loggedIn}).then((function(i){if(i.length){var n,s=t(i);initUserRatings.call(s),"album"!=fullURLWithPathParts[1]&&"song"!=fullURLWithPathParts[1]||initUserSongCollection.call(s);var a=e._type();a.length&&allmusic.gaTrackEvent({data:["Tooltip","Interaction","User Launches "+a+" Tooltip"]}),User.loggedIn||(n=s.find("canvas")).length&&n[0].getContext&&e._drawLoggedOutTip(n[0]),o.set("content.text",s)}else this.destroy()})),"Loading..."}},events:{render:function(e,i){t.fn.qtip.zindex=9999}}}))))},_type:function(){var t="",e={Album:/^MW[0-9]{10}$/i,Artist:/^MN[0-9]{10}$/i,Release:/^MR[0-9]{10}$/i,Song:/^MT[0-9]{10}$/i};for(var i in e)e[i].test(this.options.id)&&(t=i);return t},_url:function(){var t=this._type();return protocol+urlSubdomain+".allmusic.com/tooltip/"+t+"/"+this.options.id},_drawLoggedOutTip:function(t){context=t.getContext("2d"),context.fillStyle="white",context.strokeStyle="#d3d3d3",context.lineWidth=1,context.lineJoin="miter",context.miterLimit=100,context.beginPath(),context.moveTo(0,6),context.lineTo(6,0),context.lineTo(12,6),context.closePath(),context.stroke(),context.fill()}}),t("[data-tooltip]:visible").tooltip()}(jQuery),
/** @license
 *
 * SoundManager 2: JavaScript Sound for the Web
 * ----------------------------------------------
 * http://schillmania.com/projects/soundmanager2/
 *
 * Copyright (c) 2007, Scott Schiller. All rights reserved.
 * Code provided under the BSD License:
 * http://schillmania.com/projects/soundmanager2/license.txt
 *
 * V2.97a.20170601
 */
function(t,e){function i(i,o){function n(t){return dt.preferFlash&&ot&&!dt.ignoreFlash&&dt.flash[t]!==e&&dt.flash[t]}function s(t){return function(e){var i=this._s;return i&&i._a?t.call(this,e):null}}this.setupOptions={url:i||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1},flac:{type:["audio/flac"],required:!1}},this.movieID="sm2-container",this.id=o||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20170601",this.altURL=this.movieURL=this.version=null,this.enabled=this.swfLoaded=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.didFlashBlock=this.muted=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={},this.html5={usingFlash:null},this.flash={},this.ignoreFlash=this.html5Only=!1;var a,r,l,u,d,c,h,p,f,m,g,v,b,y,w,_,x,C,T,O,$,M,L,A,S,k,I,P,D,R,E,j,F,q,H,N,U,z,B,W,G,V,Q,X,Y,J,K,Z,tt,et,it,ot,nt,st,at,rt,lt,ut,dt=this,ct=null,ht=null,pt=navigator.userAgent,ft=t.location.href.toString(),mt=document,gt=[],vt=!1,bt=!1,yt=!1,wt=!1,_t=!1,xt=null,Ct=null,Tt=!1,Ot=!1,$t=0,Mt=null,Lt=[],At=null,St=Array.prototype.slice,kt=!1,It=0,Pt=pt.match(/(ipad|iphone|ipod)/i),Dt=pt.match(/android/i),Rt=pt.match(/msie|trident/i),Et=pt.match(/webkit/i),jt=pt.match(/safari/i)&&!pt.match(/chrome/i),Ft=pt.match(/opera/i),qt=pt.match(/(mobile|pre\/|xoom)/i)||Pt||Dt,Ht=!ft.match(/usehtml5audio/i)&&!ft.match(/sm2-ignorebadua/i)&&jt&&!pt.match(/silk/i)&&pt.match(/OS\sX\s10_6_([3-7])/i),Nt=mt.hasFocus!==e?mt.hasFocus():null,Ut=jt&&(mt.hasFocus===e||!mt.hasFocus()),zt=!Ut,Bt=/(mp3|mp4|mpa|m4a|m4b)/i,Wt=mt.location?mt.location.protocol.match(/http/i):null,Gt=Wt?"":"//",Vt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Qt="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),Xt=new RegExp("\\.("+Qt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!Wt,Y=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"];try{ut=Audio!==e&&(Ft&&opera!==e&&10>opera.version()?new Audio(null):new Audio).canPlayType!==e}catch(t){ut=!1}this.hasHTML5=ut,this.setup=function(t){var i=!dt.url;return t!==e&&yt&&At&&dt.ok(),f(t),kt||(qt?dt.setupOptions.ignoreMobileRestrictions&&!dt.setupOptions.forceUseGlobalHTML5Audio||(Lt.push(T.globalHTML5),kt=!0):dt.setupOptions.forceUseGlobalHTML5Audio&&(Lt.push(T.globalHTML5),kt=!0)),!lt&&qt&&(dt.setupOptions.ignoreMobileRestrictions?Lt.push(T.ignoreMobile):(dt.setupOptions.useHTML5Audio=!0,dt.setupOptions.preferFlash=!1,Pt?dt.ignoreFlash=!0:(Dt&&!pt.match(/android\s2\.3/i)||!Dt)&&(kt=!0))),t&&(i&&L&&t.url!==e&&dt.beginDelayedInit(),L||t.url===e||"complete"!==mt.readyState||setTimeout($,1)),lt=!0,dt},this.supported=this.ok=function(){return At?yt&&!wt:dt.useHTML5Audio&&dt.hasHTML5},this.getMovie=function(e){return r(e)||mt[e]||t[e]},this.createSound=function(t,i){function o(){return n=q(n),dt.sounds[n.id]=new a(n),dt.soundIDs.push(n.id),dt.sounds[n.id]}var n,s=null;if(!yt||!dt.ok())return!1;if(i!==e&&(t={id:t,url:i}),(n=p(t)).url=W(n.url),n.id===e&&(n.id=dt.setupOptions.idPrefix+It++),N(n.id,!0))return dt.sounds[n.id];if(Q(n))(s=o())._setup_html5(n);else{if(dt.html5Only||dt.html5.usingFlash&&n.url&&n.url.match(/data:/i))return o();8<c&&null===n.isMovieStar&&(n.isMovieStar=!!(n.serverURL||n.type&&n.type.match(Vt)||n.url&&n.url.match(Xt))),n=H(n,void 0),s=o(),8===c?ht._createSound(n.id,n.loops||1,n.usePolicyFile):(ht._createSound(n.id,n.url,n.usePeakData,n.useWaveformData,n.useEQData,n.isMovieStar,!!n.isMovieStar&&n.bufferTime,n.loops||1,n.serverURL,n.duration||null,n.autoPlay,!0,n.autoLoad,n.usePolicyFile),n.serverURL||(s.connected=!0,n.onconnect&&n.onconnect.apply(s))),n.serverURL||!n.autoLoad&&!n.autoPlay||s.load(n)}return!n.serverURL&&n.autoPlay&&s.play(),s},this.destroySound=function(t,e){if(!N(t))return!1;var i,o=dt.sounds[t];for(o.stop(),o._iO={},o.unload(),i=0;i<dt.soundIDs.length;i++)if(dt.soundIDs[i]===t){dt.soundIDs.splice(i,1);break}return e||o.destruct(!0),delete dt.sounds[t],!0},this.load=function(t,e){return!!N(t)&&dt.sounds[t].load(e)},this.unload=function(t){return!!N(t)&&dt.sounds[t].unload()},this.onposition=this.onPosition=function(t,e,i,o){return!!N(t)&&dt.sounds[t].onposition(e,i,o)},this.clearOnPosition=function(t,e,i){return!!N(t)&&dt.sounds[t].clearOnPosition(e,i)},this.start=this.play=function(t,e){var i=null,o=e&&!(e instanceof Object);if(!yt||!dt.ok())return!1;if(N(t,o))o&&(e={url:e});else{if(!o)return!1;o&&(e={url:e}),e&&e.url&&(e.id=t,i=dt.createSound(e).play())}return null===i&&(i=dt.sounds[t].play(e)),i},this.setPlaybackRate=function(t,e,i){return!!N(t)&&dt.sounds[t].setPlaybackRate(e,i)},this.setPosition=function(t,e){return!!N(t)&&dt.sounds[t].setPosition(e)},this.stop=function(t){return!!N(t)&&dt.sounds[t].stop()},this.stopAll=function(){for(var t in dt.sounds)dt.sounds.hasOwnProperty(t)&&dt.sounds[t].stop()},this.pause=function(t){return!!N(t)&&dt.sounds[t].pause()},this.pauseAll=function(){var t;for(t=dt.soundIDs.length-1;0<=t;t--)dt.sounds[dt.soundIDs[t]].pause()},this.resume=function(t){return!!N(t)&&dt.sounds[t].resume()},this.resumeAll=function(){var t;for(t=dt.soundIDs.length-1;0<=t;t--)dt.sounds[dt.soundIDs[t]].resume()},this.togglePause=function(t){return!!N(t)&&dt.sounds[t].togglePause()},this.setPan=function(t,e){return!!N(t)&&dt.sounds[t].setPan(e)},this.setVolume=function(t,i){var o,n;if(t!==e&&!isNaN(t)&&i===e){for(o=0,n=dt.soundIDs.length;o<n;o++)dt.sounds[dt.soundIDs[o]].setVolume(t);return!1}return!!N(t)&&dt.sounds[t].setVolume(i)},this.mute=function(t){var e=0;if(t instanceof String&&(t=null),t)return!!N(t)&&dt.sounds[t].mute();for(e=dt.soundIDs.length-1;0<=e;e--)dt.sounds[dt.soundIDs[e]].mute();return dt.muted=!0},this.muteAll=function(){dt.mute()},this.unmute=function(t){if(t instanceof String&&(t=null),t)return!!N(t)&&dt.sounds[t].unmute();for(t=dt.soundIDs.length-1;0<=t;t--)dt.sounds[dt.soundIDs[t]].unmute();return dt.muted=!1,!0},this.unmuteAll=function(){dt.unmute()},this.toggleMute=function(t){return!!N(t)&&dt.sounds[t].toggleMute()},this.getMemoryUse=function(){var t=0;return ht&&8!==c&&(t=parseInt(ht._getMemoryUse(),10)),t},this.disable=function(i){var o;if(i===e&&(i=!1),wt)return!1;for(wt=!0,o=dt.soundIDs.length-1;0<=o;o--)P(dt.sounds[dt.soundIDs[o]]);return P(dt),h(i),et.remove(t,"load",b),!0},this.canPlayMIME=function(t){var e;return dt.hasHTML5&&(e=X({type:t})),!e&&At&&(e=t&&dt.ok()?!!(8<c&&t.match(Vt)||t.match(dt.mimePattern)):null),e},this.canPlayURL=function(t){var e;return dt.hasHTML5&&(e=X({url:t})),!e&&At&&(e=t&&dt.ok()?!!t.match(dt.filePattern):null),e},this.canPlayLink=function(t){return!(t.type===e||!t.type||!dt.canPlayMIME(t.type))||dt.canPlayURL(t.href)},this.getSoundById=function(t,e){return t?dt.sounds[t]:null},this.onready=function(e,i){if("function"!=typeof e)throw E("needFunction","onready");return i||(i=t),g("onready",e,i),v(),!0},this.ontimeout=function(e,i){if("function"!=typeof e)throw E("needFunction","ontimeout");return i||(i=t),g("ontimeout",e,i),v({type:"ontimeout"}),!0},this._wD=this._writeDebug=function(t,e){return!0},this._debug=function(){},this.reboot=function(e,i){var o,n,s;for(o=dt.soundIDs.length-1;0<=o;o--)dt.sounds[dt.soundIDs[o]].destruct();if(ht)try{Rt&&(Ct=ht.innerHTML),xt=ht.parentNode.removeChild(ht)}catch(t){}if(Ct=xt=At=ht=null,dt.enabled=L=yt=Tt=Ot=vt=bt=wt=kt=dt.swfLoaded=!1,dt.soundIDs=[],dt.sounds={},It=0,lt=!1,e)gt=[];else for(o in gt)if(gt.hasOwnProperty(o))for(n=0,s=gt[o].length;n<s;n++)gt[o][n].fired=!1;return dt.html5={usingFlash:null},dt.flash={},dt.html5Only=!1,dt.ignoreFlash=!1,t.setTimeout((function(){i||dt.beginDelayedInit()}),20),dt},this.reset=function(){return dt.reboot(!0,!0)},this.getMoviePercent=function(){return ht&&"PercentLoaded"in ht?ht.PercentLoaded():null},this.beginDelayedInit=function(){_t=!0,$(),setTimeout((function(){return!Ot&&(S(),O(),Ot=!0)}),20),y()},this.destruct=function(){dt.disable(!0)},a=function(t){var i,o,n,s,a,r,l,u,d,h,f,m=this,g=!1,v=[],b=0,y=null;o=i=null,this.sID=this.id=t.id,this.url=t.url,this._iO=this.instanceOptions=this.options=p(t),this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,f=!this.url,this.id3={},this._debug=function(){},this.load=function(t){var i;if(t!==e?m._iO=p(t,m.options):(t=m.options,m._iO=t,y&&y!==m.url&&(m._iO.url=m.url,m.url=null)),m._iO.url||(m._iO.url=m.url),m._iO.url=W(m._iO.url),!(i=m.instanceOptions=m._iO).url&&!m.url)return m;if(i.url===m.url&&0!==m.readyState&&2!==m.readyState)return 3===m.readyState&&i.onload&&rt(m,(function(){i.onload.apply(m,[!!m.duration])})),m;if(m.loaded=!1,m.readyState=1,m.playState=0,m.id3={},Q(i))m._setup_html5(i)._called_load||(m._html5_canplay=!1,m.url!==i.url&&(m._a.src=i.url,m.setPosition(0)),m._a.autobuffer="auto",m._a.preload="auto",m._a._called_load=!0);else{if(dt.html5Only||m._iO.url&&m._iO.url.match(/data:/i))return m;try{m.isHTML5=!1,m._iO=H(q(i)),m._iO.autoPlay&&(m._iO.position||m._iO.from)&&(m._iO.autoPlay=!1),i=m._iO,8===c?ht._load(m.id,i.url,i.stream,i.autoPlay,i.usePolicyFile):ht._load(m.id,i.url,!!i.stream,!!i.autoPlay,i.loops||1,!!i.autoLoad,i.usePolicyFile)}catch(t){k({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return m.url=i.url,m},this.unload=function(){return 0!==m.readyState&&(m.isHTML5?(r(),m._a&&(m._a.pause(),y=K(m._a))):8===c?ht._unload(m.id,"about:blank"):ht._unload(m.id),n()),m},this.destruct=function(t){m.isHTML5?(r(),m._a&&(m._a.pause(),K(m._a),kt||a(),m._a._s=null,m._a=null)):(m._iO.onfailure=null,ht._destroySound(m.id)),t||dt.destroySound(m.id,!0)},this.start=this.play=function(t,i){var o,n,s,a;if(o=!0,i=i===e||i,t||(t={}),m.url&&(m._iO.url=m.url),m._iO=p(m._iO,m.options),m._iO=p(t,m._iO),m._iO.url=W(m._iO.url),m.instanceOptions=m._iO,!m.isHTML5&&m._iO.serverURL&&!m.connected)return m.getAutoPlay()||m.setAutoPlay(!0),m;if(Q(m._iO)&&(m._setup_html5(m._iO),l()),1===m.playState&&!m.paused&&!(o=m._iO.multiShot))return m.isHTML5&&m.setPosition(m._iO.position),m;if(t.url&&t.url!==m.url&&(m.readyState||m.isHTML5||8!==c||!f?m.load(m._iO):f=!1),!m.loaded)if(0===m.readyState){if(m.isHTML5||dt.html5Only){if(!m.isHTML5)return m;m.load(m._iO)}else m._iO.autoPlay=!0,m.load(m._iO);m.instanceOptions=m._iO}else if(2===m.readyState)return m;return!m.isHTML5&&9===c&&0<m.position&&m.position===m.duration&&(t.position=0),m.paused&&0<=m.position&&(!m._iO.serverURL||0<m.position)?m.resume():(m._iO=p(t,m._iO),(!m.isHTML5&&null!==m._iO.position&&0<m._iO.position||null!==m._iO.from&&0<m._iO.from||null!==m._iO.to)&&0===m.instanceCount&&0===m.playState&&!m._iO.serverURL&&(o=function(){m._iO=p(t,m._iO),m.play(m._iO)},m.isHTML5&&!m._html5_canplay?m.load({_oncanplay:o}):m.isHTML5||m.loaded||m.readyState&&2===m.readyState||m.load({onload:o}),m._iO=h()),(!m.instanceCount||m._iO.multiShotEvents||m.isHTML5&&m._iO.multiShot&&!kt||!m.isHTML5&&8<c&&!m.getAutoPlay())&&m.instanceCount++,m._iO.onposition&&0===m.playState&&u(m),m.playState=1,m.paused=!1,m.position=m._iO.position===e||isNaN(m._iO.position)?0:m._iO.position,m.isHTML5||(m._iO=H(q(m._iO))),m._iO.onplay&&i&&(m._iO.onplay.apply(m),g=!0),m.setVolume(m._iO.volume,!0),m.setPan(m._iO.pan,!0),1!==m._iO.playbackRate&&m.setPlaybackRate(m._iO.playbackRate),m.isHTML5?2>m.instanceCount?(l(),o=m._setup_html5(),m.setPosition(m._iO.position),o.play()):(n=new Audio(m._iO.url),s=function(){et.remove(n,"ended",s),m._onfinish(m),K(n),n=null},a=function(){et.remove(n,"canplay",a);try{n.currentTime=m._iO.position/1e3}catch(t){}n.play()},et.add(n,"ended",s),m._iO.volume!==e&&(n.volume=Math.max(0,Math.min(1,m._iO.volume/100))),m.muted&&(n.muted=!0),m._iO.position?et.add(n,"canplay",a):n.play()):(o=ht._start(m.id,m._iO.loops||1,9===c?m.position:m.position/1e3,m._iO.multiShot||!1),9!==c||o||m._iO.onplayerror&&m._iO.onplayerror.apply(m))),m},this.stop=function(t){var e=m._iO;return 1===m.playState&&(m._onbufferchange(0),m._resetOnPosition(0),m.paused=!1,m.isHTML5||(m.playState=0),d(),e.to&&m.clearOnPosition(e.to),m.isHTML5?m._a&&(t=m.position,m.setPosition(0),m.position=t,m._a.pause(),m.playState=0,m._onTimer(),r()):(ht._stop(m.id,t),e.serverURL&&m.unload()),m.instanceCount=0,m._iO={},e.onstop&&e.onstop.apply(m)),m},this.setAutoPlay=function(t){m._iO.autoPlay=t,m.isHTML5||(ht._setAutoPlay(m.id,t),t&&(m.instanceCount||1!==m.readyState||m.instanceCount++))},this.getAutoPlay=function(){return m._iO.autoPlay},this.setPlaybackRate=function(t){if(t=Math.max(.5,Math.min(4,t)),m.isHTML5)try{m._iO.playbackRate=t,m._a.playbackRate=t}catch(t){}return m},this.setPosition=function(t){t===e&&(t=0);var i=m.isHTML5?Math.max(t,0):Math.min(m.duration||m._iO.duration,Math.max(t,0));if(m.position=i,t=m.position/1e3,m._resetOnPosition(m.position),m._iO.position=i,m.isHTML5){if(m._a){if(m._html5_canplay){if(m._a.currentTime.toFixed(3)!==t.toFixed(3))try{m._a.currentTime=t,(0===m.playState||m.paused)&&m._a.pause()}catch(t){}}else if(t)return m;m.paused&&m._onTimer(!0)}}else t=9===c?m.position:t,m.readyState&&2!==m.readyState&&ht._setPosition(m.id,t,m.paused||!m.playState,m._iO.multiShot);return m},this.pause=function(t){return m.paused||0===m.playState&&1!==m.readyState||(m.paused=!0,m.isHTML5?(m._setup_html5().pause(),r()):(t||t===e)&&ht._pause(m.id,m._iO.multiShot),m._iO.onpause&&m._iO.onpause.apply(m)),m},this.resume=function(){var t=m._iO;return m.paused?(m.paused=!1,m.playState=1,m.isHTML5?(m._setup_html5().play(),l()):(t.isMovieStar&&!t.serverURL&&m.setPosition(m.position),ht._pause(m.id,t.multiShot)),!g&&t.onplay?(t.onplay.apply(m),g=!0):t.onresume&&t.onresume.apply(m),m):m},this.togglePause=function(){return 0===m.playState?(m.play({position:9!==c||m.isHTML5?m.position/1e3:m.position}),m):(m.paused?m.resume():m.pause(),m)},this.setPan=function(t,i){return t===e&&(t=0),i===e&&(i=!1),m.isHTML5||ht._setPan(m.id,t),m._iO.pan=t,i||(m.pan=t,m.options.pan=t),m},this.setVolume=function(t,i){return t===e&&(t=100),i===e&&(i=!1),m.isHTML5?m._a&&(dt.muted&&!m.muted&&(m.muted=!0,m._a.muted=!0),m._a.volume=Math.max(0,Math.min(1,t/100))):ht._setVolume(m.id,dt.muted&&!m.muted||m.muted?0:t),m._iO.volume=t,i||(m.volume=t,m.options.volume=t),m},this.mute=function(){return m.muted=!0,m.isHTML5?m._a&&(m._a.muted=!0):ht._setVolume(m.id,0),m},this.unmute=function(){m.muted=!1;var t=m._iO.volume!==e;return m.isHTML5?m._a&&(m._a.muted=!1):ht._setVolume(m.id,t?m._iO.volume:m.options.volume),m},this.toggleMute=function(){return m.muted?m.unmute():m.mute()},this.onposition=this.onPosition=function(t,i,o){return v.push({position:parseInt(t,10),method:i,scope:o!==e?o:m,fired:!1}),m},this.clearOnPosition=function(t,e){var i;if(t=parseInt(t,10),!isNaN(t))for(i=0;i<v.length;i++)t!==v[i].position||e&&e!==v[i].method||(v[i].fired&&b--,v.splice(i,1))},this._processOnPosition=function(){var t,e;if(!(t=v.length)||!m.playState||b>=t)return!1;for(--t;0<=t;t--)!(e=v[t]).fired&&m.position>=e.position&&(e.fired=!0,b++,e.method.apply(e.scope,[e.position]));return!0},this._resetOnPosition=function(t){var e,i;if(!(e=v.length))return!1;for(--e;0<=e;e--)(i=v[e]).fired&&t<=i.position&&(i.fired=!1,b--);return!0},h=function(){var t,e,i=m._iO,o=i.from,n=i.to;return e=function(){m.clearOnPosition(n,e),m.stop()},t=function(){null===n||isNaN(n)||m.onPosition(n,e)},null===o||isNaN(o)||(i.position=o,i.multiShot=!1,t()),i},u=function(){var t,e=m._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&m.onPosition(parseInt(t,10),e[t])},d=function(){var t,e=m._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&m.clearOnPosition(parseInt(t,10))},l=function(){m.isHTML5&&U(m)},r=function(){m.isHTML5&&z(m)},(n=function(t){t||(v=[],b=0),g=!1,m._hasTimer=null,m._a=null,m._html5_canplay=!1,m.bytesLoaded=null,m.bytesTotal=null,m.duration=m._iO&&m._iO.duration?m._iO.duration:null,m.durationEstimate=null,m.buffered=[],m.eqData=[],m.eqData.left=[],m.eqData.right=[],m.failures=0,m.isBuffering=!1,m.instanceOptions={},m.instanceCount=0,m.loaded=!1,m.metadata={},m.readyState=0,m.muted=!1,m.paused=!1,m.peakData={left:0,right:0},m.waveformData={left:[],right:[]},m.playState=0,m.position=null,m.id3={}})(),this._onTimer=function(t){var e,n=!1,s={};return(m._hasTimer||t)&&m._a&&(t||(0<m.playState||1===m.readyState)&&!m.paused)&&((e=m._get_html5_duration())!==i&&(i=e,m.duration=e,n=!0),m.durationEstimate=m.duration,(e=1e3*m._a.currentTime||0)!==o&&(o=e,n=!0),(n||t)&&m._whileplaying(e,s,s,s,s)),n},this._get_html5_duration=function(){var t=m._iO;return(t=m._a&&m._a.duration?1e3*m._a.duration:t&&t.duration?t.duration:null)&&!isNaN(t)&&1/0!==t?t:null},this._apply_loop=function(t,e){t.loop=1<e?"loop":""},this._setup_html5=function(t){t=p(m._iO,t);var e,i=kt?ct:m._a,o=decodeURI(t.url);if(kt?o===decodeURI(it)&&(e=!0):o===decodeURI(y)&&(e=!0),i){if(i._s)if(kt)i._s&&i._s.playState&&!e&&i._s.stop();else if(!kt&&o===decodeURI(y))return m._apply_loop(i,t.loops),i;e||(y&&n(!1),i.src=t.url,it=y=m.url=t.url,i._called_load=!1)}else t.autoLoad||t.autoPlay?(m._a=new Audio(t.url),m._a.load()):m._a=Ft&&10>opera.version()?new Audio(null):new Audio,(i=m._a)._called_load=!1,kt&&(ct=i);return m.isHTML5=!0,m._a=i,i._s=m,s(),m._apply_loop(i,t.loops),t.autoLoad||t.autoPlay?m.load():(i.autobuffer=!1,i.preload="auto"),i},s=function(){if(m._a._added_events)return!1;var t;for(t in m._a._added_events=!0,at)at.hasOwnProperty(t)&&m._a&&m._a.addEventListener(t,at[t],!1);return!0},a=function(){var t;for(t in m._a._added_events=!1,at)at.hasOwnProperty(t)&&m._a&&m._a.removeEventListener(t,at[t],!1)},this._onload=function(t){var e=!!t||!m.isHTML5&&8===c&&m.duration;return m.loaded=e,m.readyState=e?3:2,m._onbufferchange(0),e||m.isHTML5||m._onerror(),m._iO.onload&&rt(m,(function(){m._iO.onload.apply(m,[e])})),!0},this._onerror=function(t,e){m._iO.onerror&&rt(m,(function(){m._iO.onerror.apply(m,[t,e])}))},this._onbufferchange=function(t){return!(0===m.playState||t&&m.isBuffering||!t&&!m.isBuffering)&&(m.isBuffering=1===t,m._iO.onbufferchange&&m._iO.onbufferchange.apply(m,[t]),!0)},this._onsuspend=function(){return m._iO.onsuspend&&m._iO.onsuspend.apply(m),!0},this._onfailure=function(t,e,i){m.failures++,m._iO.onfailure&&1===m.failures&&m._iO.onfailure(t,e,i)},this._onwarning=function(t,e,i){m._iO.onwarning&&m._iO.onwarning(t,e,i)},this._onfinish=function(){var t=m._iO.onfinish;m._onbufferchange(0),m._resetOnPosition(0),m.instanceCount&&(m.instanceCount--,m.instanceCount||(d(),m.playState=0,m.paused=!1,m.instanceCount=0,m.instanceOptions={},m._iO={},r(),m.isHTML5&&(m.position=0)),(!m.instanceCount||m._iO.multiShotEvents)&&t&&rt(m,(function(){t.apply(m)})))},this._whileloading=function(t,e,i,o){var n=m._iO;m.bytesLoaded=t,m.bytesTotal=e,m.duration=Math.floor(i),m.bufferLength=o,m.durationEstimate=m.isHTML5||n.isMovieStar?m.duration:n.duration?m.duration>n.duration?m.duration:n.duration:parseInt(m.bytesTotal/m.bytesLoaded*m.duration,10),m.isHTML5||(m.buffered=[{start:0,end:m.duration}]),(3!==m.readyState||m.isHTML5)&&n.whileloading&&n.whileloading.apply(m)},this._whileplaying=function(t,i,o,n,s){var a=m._iO;return!isNaN(t)&&null!==t&&(m.position=Math.max(0,t),m._processOnPosition(),!m.isHTML5&&8<c&&(a.usePeakData&&i!==e&&i&&(m.peakData={left:i.leftPeak,right:i.rightPeak}),a.useWaveformData&&o!==e&&o&&(m.waveformData={left:o.split(","),right:n.split(",")}),a.useEQData&&s!==e&&s&&s.leftEQ&&(t=s.leftEQ.split(","),m.eqData=t,m.eqData.left=t,s.rightEQ!==e&&s.rightEQ&&(m.eqData.right=s.rightEQ.split(",")))),1===m.playState&&(m.isHTML5||8!==c||m.position||!m.isBuffering||m._onbufferchange(0),a.whileplaying&&a.whileplaying.apply(m)),!0)},this._oncaptiondata=function(t){m.captiondata=t,m._iO.oncaptiondata&&m._iO.oncaptiondata.apply(m,[t])},this._onmetadata=function(t,e){var i,o,n={};for(i=0,o=t.length;i<o;i++)n[t[i]]=e[i];m.metadata=n,m._iO.onmetadata&&m._iO.onmetadata.call(m,m.metadata)},this._onid3=function(t,e){var i,o,n=[];for(i=0,o=t.length;i<o;i++)n[t[i]]=e[i];m.id3=p(m.id3,n),m._iO.onid3&&m._iO.onid3.apply(m)},this._onconnect=function(t){t=1===t,(m.connected=t)&&(m.failures=0,N(m.id)&&(m.getAutoPlay()?m.play(e,m.getAutoPlay()):m._iO.autoLoad&&m.load()),m._iO.onconnect&&m._iO.onconnect.apply(m,[t]))},this._ondataerror=function(t){0<m.playState&&m._iO.ondataerror&&m._iO.ondataerror.apply(m)}},A=function(){return mt.body||mt.getElementsByTagName("div")[0]},r=function(t){return mt.getElementById(t)},p=function(t,i){var o,n,s=t||{};for(n in o=i===e?dt.defaultOptions:i)o.hasOwnProperty(n)&&s[n]===e&&(s[n]="object"!=typeof o[n]||null===o[n]?o[n]:p(s[n],o[n]));return s},rt=function(e,i){e.isHTML5||8!==c?i():t.setTimeout(i,0)},m={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},f=function(t,i){var o,n=!0,s=i!==e,a=dt.setupOptions;for(o in t)if(t.hasOwnProperty(o))if("object"!=typeof t[o]||null===t[o]||t[o]instanceof Array||t[o]instanceof RegExp)s&&m[i]!==e?dt[i][o]=t[o]:a[o]!==e?(dt.setupOptions[o]=t[o],dt[o]=t[o]):m[o]===e?n=!1:dt[o]instanceof Function?dt[o].apply(dt,t[o]instanceof Array?t[o]:[t[o]]):dt[o]=t[o];else{if(m[o]!==e)return f(t[o],o);n=!1}return n},et=function(){function e(t){var e=(t=St.call(t)).length;return o?(t[1]="on"+t[1],3<e&&t.pop()):3===e&&t.push(!1),t}function i(t,e){var i=t.shift(),s=[n[e]];o?i[s](t[0],t[1]):i[s].apply(i,t)}var o=t.attachEvent,n={add:o?"attachEvent":"addEventListener",remove:o?"detachEvent":"removeEventListener"};return{add:function(){i(e(arguments),"add")},remove:function(){i(e(arguments),"remove")}}}(),at={abort:s((function(){})),canplay:s((function(){var t,i=this._s;if(!i._html5_canplay){if(i._html5_canplay=!0,i._onbufferchange(0),t=i._iO.position===e||isNaN(i._iO.position)?null:i._iO.position/1e3,this.currentTime!==t)try{this.currentTime=t}catch(t){}i._iO._oncanplay&&i._iO._oncanplay()}})),canplaythrough:s((function(){var t=this._s;t.loaded||(t._onbufferchange(0),t._whileloading(t.bytesLoaded,t.bytesTotal,t._get_html5_duration()),t._onload(!0))})),durationchange:s((function(){var t,e=this._s;t=e._get_html5_duration(),isNaN(t)||t===e.duration||(e.durationEstimate=e.duration=t)})),ended:s((function(){this._s._onfinish()})),error:s((function(){var t=Y[this.error.code]||null;this._s._onload(!1),this._s._onerror(this.error.code,t)})),loadeddata:s((function(){var t=this._s;t._loaded||jt||(t.duration=t._get_html5_duration())})),loadedmetadata:s((function(){})),loadstart:s((function(){this._s._onbufferchange(1)})),play:s((function(){this._s._onbufferchange(0)})),playing:s((function(){this._s._onbufferchange(0)})),progress:s((function(t){var e,i,o=this._s,n=0;n=t.target.buffered;e=t.loaded||0;var s=t.total||1;if(o.buffered=[],n&&n.length){for(e=0,i=n.length;e<i;e++)o.buffered.push({start:1e3*n.start(e),end:1e3*n.end(e)});n=1e3*(n.end(0)-n.start(0)),e=Math.min(1,n/(1e3*t.target.duration))}isNaN(e)||(o._whileloading(e,s,o._get_html5_duration()),e&&s&&e===s&&at.canplaythrough.call(this,t))})),ratechange:s((function(){})),suspend:s((function(t){var e=this._s;at.progress.call(this,t),e._onsuspend()})),stalled:s((function(){})),timeupdate:s((function(){this._s._onTimer()})),waiting:s((function(){this._s._onbufferchange(1)}))},Q=function(t){return!(!t||!(t.type||t.url||t.serverURL))&&(!(t.serverURL||t.type&&n(t.type))&&(t.type?X({type:t.type}):X({url:t.url})||dt.html5Only||t.url.match(/data:/i)))},K=function(t){var i;return t&&(i=jt?"about:blank":dt.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":"about:blank",t.src=i,t._called_unload!==e&&(t._called_load=!1)),kt&&(it=null),i},X=function(t){if(!dt.useHTML5Audio||!dt.hasHTML5)return!1;var i=t.url||null;t=t.type||null;var o,s=dt.audioFormats;if(t&&dt.html5[t]!==e)return dt.html5[t]&&!n(t);if(!J){for(o in J=[],s)s.hasOwnProperty(o)&&(J.push(o),s[o].related&&(J=J.concat(s[o].related)));J=new RegExp("\\.("+J.join("|")+")(\\?.*)?$","i")}return(o=i?i.toLowerCase().match(J):null)&&o.length?o=o[1]:t&&(o=(-1!==(i=t.indexOf(";"))?t.substr(0,i):t).substr(6)),o&&dt.html5[o]!==e?i=dt.html5[o]&&!n(o):(t="audio/"+o,i=dt.html5.canPlayType({type:t}),i=(dt.html5[o]=i)&&dt.html5[t]&&!n(t)),i},tt=function(){function t(t){var e,i=e=!1;if(!a||"function"!=typeof a.canPlayType)return e;if(t instanceof Array){for(s=0,e=t.length;s<e;s++)(dt.html5[t[s]]||a.canPlayType(t[s]).match(dt.html5Test))&&(i=!0,dt.html5[t[s]]=!0,dt.flash[t[s]]=!!t[s].match(Bt));e=i}else e=!(!(t=!(!a||"function"!=typeof a.canPlayType)&&a.canPlayType(t))||!t.match(dt.html5Test));return e}if(!dt.useHTML5Audio||!dt.hasHTML5)return At=dt.html5.usingFlash=!0,!1;var i,o,n,s,a=Audio!==e?Ft&&10>opera.version()?new Audio(null):new Audio:null,r={};for(i in n=dt.audioFormats)if(n.hasOwnProperty(i)&&(o="audio/"+i,r[i]=t(n[i].type),r[o]=r[i],i.match(Bt)?(dt.flash[i]=!0,dt.flash[o]=!0):(dt.flash[i]=!1,dt.flash[o]=!1),n[i]&&n[i].related))for(s=n[i].related.length-1;0<=s;s--)r["audio/"+n[i].related[s]]=r[i],dt.html5[n[i].related[s]]=r[i],dt.flash[n[i].related[s]]=r[i];return r.canPlayType=a?t:null,dt.html5=p(dt.html5,r),dt.html5.usingFlash=V(),At=dt.html5.usingFlash,!0},T={},E=function(){},q=function(t){return 8===c&&1<t.loops&&t.stream&&(t.stream=!1),t},H=function(t,e){return t&&!t.usePolicyFile&&(t.onid3||t.usePeakData||t.useWaveformData||t.useEQData)&&(t.usePolicyFile=!0),t},l=function(){return!1},P=function(t){for(var e in t)t.hasOwnProperty(e)&&"function"==typeof t[e]&&(t[e]=l)},D=function(t){t===e&&(t=!1),(wt||t)&&dt.disable(t)},R=function(t){if(t)if(t.match(/\.swf(\?.*)?$/i)){if(t.substr(t.toLowerCase().lastIndexOf(".swf?")+4))return t}else t.lastIndexOf("/")!==t.length-1&&(t+="/");return t=(t&&-1!==t.lastIndexOf("/")?t.substr(0,t.lastIndexOf("/")+1):"./")+dt.movieURL,dt.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},x=function(){8!==(c=parseInt(dt.flashVersion,10))&&9!==c&&(dt.flashVersion=c=8);var t=dt.debugMode||dt.debugFlash?"_debug.swf":".swf";dt.useHTML5Audio&&!dt.html5Only&&dt.audioFormats.mp4.required&&9>c&&(dt.flashVersion=c=9),dt.version=dt.versionNumber+(dt.html5Only?" (HTML5-only mode)":9===c?" (AS3/Flash 9)":" (AS2/Flash 8)"),8<c?(dt.defaultOptions=p(dt.defaultOptions,dt.flash9Options),dt.features.buffering=!0,dt.defaultOptions=p(dt.defaultOptions,dt.movieStarOptions),dt.filePatterns.flash9=new RegExp("\\.(mp3|"+Qt.join("|")+")(\\?.*)?$","i"),dt.features.movieStar=!0):dt.features.movieStar=!1,dt.filePattern=dt.filePatterns[8!==c?"flash9":"flash8"],dt.movieURL=(8===c?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",t),dt.features.peakData=dt.features.waveformData=dt.features.eqData=8<c},I=function(t,e){ht&&ht._setPolling(t,e)},N=this.getSoundById,F=function(){var t=[];return dt.debugMode&&t.push("sm2_debug"),dt.debugFlash&&t.push("flash_debug"),dt.useHighPerformance&&t.push("high_performance"),t.join(" ")},j=function(){E("fbHandler");var t=dt.getMoviePercent(),e={type:"FLASHBLOCK"};dt.html5Only||(dt.ok()?dt.oMC&&(dt.oMC.className=[F(),"movieContainer","swf_loaded"+(dt.didFlashBlock?" swf_unblocked":"")].join(" ")):(At&&(dt.oMC.className=F()+" movieContainer "+(null===t?"swf_timedout":"swf_error")),dt.didFlashBlock=!0,v({type:"ontimeout",ignoreInit:!0,error:e}),k(e)))},g=function(t,i,o){gt[t]===e&&(gt[t]=[]),gt[t].push({method:i,scope:o||null,fired:!1})},v=function(t){if(t||(t={type:dt.ok()?"onready":"ontimeout"}),!yt&&t&&!t.ignoreInit||"ontimeout"===t.type&&(dt.ok()||wt&&!t.ignoreInit))return!1;var e,i={success:t&&t.ignoreInit?dt.ok():!wt},o=t&&t.type&&gt[t.type]||[],n=[],s=(i=[i],At&&!dt.ok());for(t.error&&(i[0].error=t.error),t=0,e=o.length;t<e;t++)!0!==o[t].fired&&n.push(o[t]);if(n.length)for(t=0,e=n.length;t<e;t++)n[t].scope?n[t].method.apply(n[t].scope,i):n[t].method.apply(this,i),s||(n[t].fired=!0);return!0},b=function(){t.setTimeout((function(){dt.useFlashBlock&&j(),v(),"function"==typeof dt.onload&&dt.onload.apply(t),dt.waitForWindowLoad&&et.add(t,"load",b)}),1)},nt=function(){if(ot!==e)return ot;var i,o,n=!1,s=navigator,a=t.ActiveXObject;try{o=s.plugins}catch(t){o=void 0}if(o&&o.length)(s=s.mimeTypes)&&s["application/x-shockwave-flash"]&&s["application/x-shockwave-flash"].enabledPlugin&&s["application/x-shockwave-flash"].enabledPlugin.description&&(n=!0);else if(a!==e&&!pt.match(/MSAppHost/i)){try{i=new a("ShockwaveFlash.ShockwaveFlash")}catch(t){i=null}n=!!i}return ot=n},V=function(){var t,e,i=dt.audioFormats;if(Pt&&pt.match(/os (1|2|3_0|3_1)\s/i)?(dt.hasHTML5=!1,dt.html5Only=!0,dt.oMC&&(dt.oMC.style.display="none")):!dt.useHTML5Audio||dt.html5&&dt.html5.canPlayType||(dt.hasHTML5=!1),dt.useHTML5Audio&&dt.hasHTML5)for(e in G=!0,i)i.hasOwnProperty(e)&&i[e].required&&(dt.html5.canPlayType(i[e].type)?dt.preferFlash&&(dt.flash[e]||dt.flash[i[e].type])&&(t=!0):(G=!1,t=!0));return dt.ignoreFlash&&(t=!1,G=!0),dt.html5Only=dt.hasHTML5&&dt.useHTML5Audio&&!t,!dt.html5Only},W=function(t){var e,i,o=0;if(t instanceof Array){for(e=0,i=t.length;e<i;e++)if(t[e]instanceof Object){if(dt.canPlayMIME(t[e].type)){o=e;break}}else if(dt.canPlayURL(t[e])){o=e;break}t[o].url&&(t[o]=t[o].url),t=t[o]}return t},U=function(t){t._hasTimer||(t._hasTimer=!0,!qt&&dt.html5PollingInterval&&(null===Mt&&0===$t&&(Mt=setInterval(B,dt.html5PollingInterval)),$t++))},z=function(t){t._hasTimer&&(t._hasTimer=!1,!qt&&dt.html5PollingInterval&&$t--)},B=function(){var t;if(null===Mt||$t)for(t=dt.soundIDs.length-1;0<=t;t--)dt.sounds[dt.soundIDs[t]].isHTML5&&dt.sounds[dt.soundIDs[t]]._hasTimer&&dt.sounds[dt.soundIDs[t]]._onTimer();else clearInterval(Mt),Mt=null},k=function(i){i=i!==e?i:{},"function"==typeof dt.onerror&&dt.onerror.apply(t,[{type:i.type!==e?i.type:null}]),i.fatal!==e&&i.fatal&&dt.disable()},st=function(){if(Ht&&nt()){var t,e,i=dt.audioFormats;for(e in i)if(i.hasOwnProperty(e)&&("mp3"===e||"mp4"===e)&&(dt.html5[e]=!1,i[e]&&i[e].related))for(t=i[e].related.length-1;0<=t;t--)dt.html5[i[e].related[t]]=!1}},this._setSandboxType=function(t){},this._externalInterfaceOK=function(t){dt.swfLoaded||(dt.swfLoaded=!0,Ut=!1,Ht&&st(),setTimeout(d,Rt?100:1))},S=function(t,i){function o(t,e){return'<param name="'+t+'" value="'+e+'" />'}if(vt&&bt)return!1;if(dt.html5Only)return x(),dt.oMC=r(dt.movieID),d(),bt=vt=!0,!1;var n,s,a,l=i||dt.url,u=dt.altURL||l,c=A(),h=F(),p=null;p=(p=mt.getElementsByTagName("html")[0])&&p.dir&&p.dir.match(/rtl/i);if(t=t===e?dt.id:t,x(),dt.url=R(Wt?l:u),i=dt.url,dt.wmode=!dt.wmode&&dt.useHighPerformance?"transparent":dt.wmode,null!==dt.wmode&&(pt.match(/msie 8/i)||!Rt&&!dt.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Lt.push(T.spcWmode),dt.wmode=null),c={name:t,id:t,src:i,quality:"high",allowScriptAccess:dt.allowScriptAccess,bgcolor:dt.bgColor,pluginspage:Gt+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:dt.wmode,hasPriority:"true"},dt.debugFlash&&(c.FlashVars="debug=1"),dt.wmode||delete c.wmode,Rt)l=mt.createElement("div"),s=['<object id="'+t+'" data="'+i+'" type="'+c.type+'" title="'+c.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',o("movie",i),o("AllowScriptAccess",dt.allowScriptAccess),o("quality",c.quality),dt.wmode?o("wmode",dt.wmode):"",o("bgcolor",dt.bgColor),o("hasPriority","true"),dt.debugFlash?o("FlashVars",c.FlashVars):"","</object>"].join("");else for(n in l=mt.createElement("embed"),c)c.hasOwnProperty(n)&&l.setAttribute(n,c[n]);if(h=F(),c=A())if(dt.oMC=r(dt.movieID)||mt.createElement("div"),dt.oMC.id)a=dt.oMC.className,dt.oMC.className=(a?a+" ":"movieContainer")+(h?" "+h:""),dt.oMC.appendChild(l),Rt&&((n=dt.oMC.appendChild(mt.createElement("div"))).className="sm2-object-box",n.innerHTML=s),bt=!0;else{if(dt.oMC.id=dt.movieID,dt.oMC.className="movieContainer "+h,n=h=null,dt.useFlashBlock||(dt.useHighPerformance?h={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(h={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},p&&(h.left=Math.abs(parseInt(h.left,10))+"px"))),Et&&(dt.oMC.style.zIndex=1e4),!dt.debugFlash)for(a in h)h.hasOwnProperty(a)&&(dt.oMC.style[a]=h[a]);try{Rt||dt.oMC.appendChild(l),c.appendChild(dt.oMC),Rt&&((n=dt.oMC.appendChild(mt.createElement("div"))).className="sm2-object-box",n.innerHTML=s),bt=!0}catch(t){throw Error(E("domError")+" \n"+t.toString())}}return vt=!0},O=function(){return dt.html5Only?(S(),!1):!(ht||!dt.url)&&((ht=dt.getMovie(dt.id))||(xt?(Rt?dt.oMC.innerHTML=Ct:dt.oMC.appendChild(xt),xt=null,vt=!0):S(dt.id,dt.url),ht=dt.getMovie(dt.id)),"function"==typeof dt.oninitmovie&&setTimeout(dt.oninitmovie,1),!0)},y=function(){setTimeout(w,1e3)},_=function(){t.setTimeout((function(){dt.setup({preferFlash:!1}).reboot(),dt.didFlashBlock=!0,dt.beginDelayedInit()}),1)},w=function(){var e,i=!1;dt.url&&!Tt&&(Tt=!0,et.remove(t,"load",y),ot&&Ut&&!Nt||(yt||0<(e=dt.getMoviePercent())&&100>e&&(i=!0),setTimeout((function(){e=dt.getMoviePercent(),i?(Tt=!1,t.setTimeout(y,1)):!yt&&zt&&(null===e?dt.useFlashBlock||0===dt.flashLoadTimeout?dt.useFlashBlock&&j():!dt.useFlashBlock&&G?_():v({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):0!==dt.flashLoadTimeout&&(!dt.useFlashBlock&&G?_():D(!0)))}),dt.flashLoadTimeout)))},C=function(){return Nt||!Ut?(et.remove(t,"focus",C),!0):(Nt=zt=!0,Tt=!1,y(),et.remove(t,"focus",C),!0)},h=function(e){if(yt)return!1;if(dt.html5Only)return yt=!0,b(),!0;var i,o=!0;return dt.useFlashBlock&&dt.flashLoadTimeout&&!dt.getMoviePercent()||(yt=!0),i={type:!ot&&At?"NO_FLASH":"INIT_TIMEOUT"},(wt||e)&&(dt.useFlashBlock&&dt.oMC&&(dt.oMC.className=F()+" "+(null===dt.getMoviePercent()?"swf_timedout":"swf_error")),v({type:"ontimeout",error:i,ignoreInit:!0}),k(i),o=!1),wt||(dt.waitForWindowLoad&&!_t?et.add(t,"load",b):b()),o},u=function(){var t,i=dt.setupOptions;for(t in i)i.hasOwnProperty(t)&&(dt[t]===e?dt[t]=i[t]:dt[t]!==i[t]&&(dt.setupOptions[t]=dt[t]))},d=function(){if(yt)return!1;if(dt.html5Only)return yt||(et.remove(t,"load",dt.beginDelayedInit),dt.enabled=!0,h()),!0;O();try{ht._externalInterfaceTest(!1),I(!0,dt.flashPollingInterval||(dt.useHighPerformance?10:50)),dt.debugMode||ht._disableDebug(),dt.enabled=!0,dt.html5Only||et.add(t,"unload",l)}catch(t){return k({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),D(!0),h(),!1}return h(),et.remove(t,"load",dt.beginDelayedInit),!0},$=function(){return!L&&(L=!0,u(),!ot&&dt.hasHTML5&&dt.setup({useHTML5Audio:!0,preferFlash:!1}),tt(),!ot&&At&&(Lt.push(T.needFlash),dt.setup({flashLoadTimeout:1})),mt.removeEventListener&&mt.removeEventListener("DOMContentLoaded",$,!1),O(),!0)},Z=function(){return"complete"===mt.readyState&&($(),mt.detachEvent("onreadystatechange",Z)),!0},M=function(){_t=!0,$(),et.remove(t,"load",M)},nt(),et.add(t,"focus",C),et.add(t,"load",y),et.add(t,"load",M),mt.addEventListener?mt.addEventListener("DOMContentLoaded",$,!1):mt.attachEvent?mt.attachEvent("onreadystatechange",Z):k({type:"NO_DOM2_EVENTS",fatal:!0})}if(!t||!t.document)throw Error("SoundManager requires a browser with window and document objects.");var o=null;t.SM2_DEFER!==e&&SM2_DEFER||(o=new i),"object"==typeof module&&module&&"object"==typeof module.exports?(module.exports.SoundManager=i,module.exports.soundManager=o):"function"==typeof define&&define.amd&&define((function(){return{constructor:i,getInstance:function(e){return!t.soundManager&&e instanceof Function&&((e=e(i))instanceof i&&(t.soundManager=e)),t.soundManager}}})),t.SoundManager=i,t.soundManager=o}(window),function(t){t.manageAjax.create("allmusic.sample_tracking",{cacheResponse:!1,queue:!1}),t.widget("allmusic.audioPlayer",{options:{bgColor:"#24aae1",color:"#7e7e7e"},_create:function(){var e=this,i=e.element.data("sample-url");if(t.manageAjax.create("allmusic.audioPlayer",{cacheResponse:!0,queue:!1}),!is_iDevice_AllMusic){var o,n;for(var s in e._audioUrls=[],i.match(/.*\.json.*/)?t.manageAjax.add("allmusic.audioPlayer",{async:!1,dataType:"json",url:i,cache:!0,success:function(t){e._audioUrls=t}}):e._audioUrls.push({sample:i}),e._playlist=[],e._audioUrls)(o=document.createElement("a")).href=e._audioUrls[s].sample,o.href=o.href.replace(/&amp;/g,"&"),n=soundManager.createSound(o.search,o.href),e._playlist.push(n);e._index=0,e._sound=e._playlist[e._index]}e.element.click((function(i){if(i.preventDefault(),is_iDevice_AllMusic){var o=e.element.data("sample-url"),s=o.match(/(\?.*)/)[1];e._playlist=[],n=soundManager.createSound(s,o),e._playlist.push(n),e._index=0,e._sound=e._playlist[e._index]}0===e._sound.playState?(t.manageAjax.add("allmusic.sample_tracking",{url:protocol+urlSubdomain+".allmusic.com/sample/sample_log",data:{tracklId:e.element.data("sample-trackid"),artist:e.element.data("sample-artist"),title:e.element.data("sample-title")},type:"POST",cache:!1}),e.play()):e._sound.paused?e.resume():e.pause()}));var a=e.element.find("canvas");a.length&&a[0].getContext?e._canvas=a[0]:e._canvas=!1},play:function(){var t=this;t._pauseAll(),t._sound.play({whileplaying:function(){t._animate()},onfinish:function(){t._index<t._playlist.length-1?(t._index++,t._sound=t._playlist[t._index],t.play()):(t._index=0,t._sound=t._playlist[0],t.element.removeClass("playing").addClass("default"),t._canvas&&t._canvas.getContext("2d").clearRect(0,0,t._canvas.width,t._canvas.height))}}),t.element.removeClass("default").addClass("playing"),isMobile_AllMusic||"title"in t._audioUrls[t._index]&&t.element.attr("title","Now Playing: "+t._audioUrls[t._index].title)},pause:function(){this._sound.pause(),this.element.removeClass("playing").addClass("paused")},resume:function(){this._pauseAll(),this._sound.resume(),this.element.removeClass("paused").addClass("playing")},_pauseAll:function(){t(":allmusic-audioPlayer.playing").audioPlayer("pause")},_animate:function(){if(this._canvas){var t=this._canvas,e=this._sound.position/3e4,i=t.getContext("2d"),o=t.width/2,n=t.height/2,s=.4*t.width,a=.18*t.width;if(i.clearRect(0,0,t.width,t.height),i.beginPath(),i.arc(o,n,s,0,2*Math.PI),i.lineWidth=a,i.strokeStyle=this.options.bgColor,i.stroke(),e>0&&e<1){var r=1.5*Math.PI,l=(2*e-.5)*Math.PI;i.beginPath(),i.arc(o,n,s,r,l),i.lineWidth=a,i.strokeStyle=this.options.color,i.stroke()}}}}),soundManager&&soundManager.setup({debugMode:!1,flashVersion:9,preferFlash:!1,url:cdnURL+"/swf/soundmanager2/",useFlashBlock:!1,onready:function(){t(".audio-player").audioPlayer()}})}(jQuery),function(t){t.fn.allmusicShare=function(){return this.each((function(){var e=t(this);e.attr("data-objectid");t(".share-button:not(.email)",e).bind("click",(function(e){if(!t(this).hasClass("link")){e.preventDefault();var i=null!=window.screenLeft?window.screenLeft:screen.left,o=null!=window.screenTop?window.screenTop:screen.top,n=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-325+i,s=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-210+o,a=window.open(t(this).attr("href"),"social","scrollbars=no, width=650, height=420, top="+s+", left="+n);window.focus&&a.focus()}}))}))}}(jQuery),$((function(){$(".allmusic-share").length>0&&$(".allmusic-share").allmusicShare(),$(".allmusic-review-share").length>0&&$(".allmusic-review-share").allmusicShare(),$(".mobile-review-share").length>0&&$(".mobile-review-share").allmusicShare()})),function(t){t.widget("allmusic.rotate",{options:{animationTime:333,animationEasing:"easeOutCirc",horizontalChange:"100%",selectors:{previous:".module-pagination .previous a",next:".module-pagination .next a",dotsContainer:".dots-container",rotatingContent:".rotating-content"},autoRotate:{timeout:7e3},loop:!0,loopBounce:!1,bounceAnimationTime:200,bounceAnimationEasing:"linear",hiddenClass:null,photoGallery:!1,callbacks:{previous:null,next:null,moveDots:null},styles:{container:{position:"relative",overflow:"hidden"},contentHidden:{position:"absolute",left:"100%"},contentVisible:{position:"relative",left:"0"},previous:{position:"absolute",top:"46%",left:"13px"},next:{position:"absolute",top:"46%",right:"13px"}}},animating:!1,timeoutVar:null,$dotsContainer:null,_create:function(){},_init:function(){var e=this;if(e.options.selectors&&e.options.selectors.dotsContainer&&(e.$dotsContainer=e.element.find(e.options.selectors.dotsContainer),this.element.find(e.options.selectors.rotatingContent).each((function(){e.$dotsContainer.append('<span class="dot dots-empty" />')})),e.$dotsContainer.find(".dots-empty:first").removeClass("dots-empty").addClass("dots-full"),e.$dotsContainer.find(".dot").on("click",(function(){e.moveDots(t(this).index())}))),e.element.css(e.options.styles.container),e.element.find(e.options.selectors.rotatingContent).css(e.options.styles.contentHidden),e.element.find(e.options.selectors.rotatingContent).first().css(e.options.styles.contentVisible),e.options.selectors&&(e.options.selectors.previous&&e.element.find(e.options.selectors.previous).on("click.rotate",(function(t){t.preventDefault(),e.previous()})).on("click",(function(t){t.preventDefault()})).css(e.options.styles.previous),e.options.selectors.next)){if(e.element.find(e.options.selectors.next).on("click.rotate",(function(t){t.preventDefault(),e.next()})).on("click",(function(t){t.preventDefault()})).css(e.options.styles.next),!e.options.loop){var i=e.element.find(e.options.selectors.previous);i.unbind("click.rotate"),e.options.hiddenClass?i.addClass(e.options.hiddenClass):i.css({opacity:"0",visibility:"hidden"})}if(e.$dotsContainer.find(".dot").length<=1){var o=e.element.find(e.options.selectors.next+", "+e.options.selectors.previous);o.unbind("click.rotate"),e.options.hiddenClass?o.addClass(e.options.hiddenClass):o.css({opacity:"0",visibility:"hidden"})}}e.options.autoRotate&&e.options.autoRotate.timeout&&(e.element.on("mouseenter.rotate",(function(){e.stopRotate()})),e.element.on("mouseleave.rotate",(function(){e.rotate()})),e.element.on("touchstart",(function(){e.stopRotate()})),e.element.on("touchend",(function(){e.timeoutVar=setTimeout((function(){e.animating||e.next(),e.rotate()}),e.options.autoRotate.timeout)})),e.rotate())},next:function(e){var i=this;if(!i.animating)if(i.animating=!0,!i.options.loopBounce||i.bouncing)i.element.find(i.options.selectors.rotatingContent+":nth(0)").animate({left:"-"+i.options.horizontalChange},i.options.animationTime,i.options.animationEasing,(function(){t(this).css(i.options.styles.contentHidden)})),i.element.find(i.options.selectors.rotatingContent+":nth(1)").animate({left:"0"},i.options.animationTime,i.options.animationEasing,(function(){t(this).css(i.options.styles.contentVisible);var o=t(this);o.prev().css({left:i.options.horizontalChange}).insertAfter(o.parent().find(i.options.selectors.rotatingContent).last());var n=i.$dotsContainer.find(".dots-full");if(n.removeClass("dots-full").addClass("dots-empty"),n.next().length>0?n.next().removeClass("dots-empty").addClass("dots-full"):i.$dotsContainer.find(".dots-empty").first().removeClass("dots-empty").addClass("dots-full"),!i.options.loop){var s=i.element.find(i.options.selectors.previous);if(("0"===s.css("opacity")||s.hasClass(i.options.hiddenClass))&&(i.options.hiddenClass?s.removeClass(i.options.hiddenClass):s.css("visibility","visible").animate({opacity:1},"fast").on("click.rotate",(function(t){t.preventDefault(),i.previous()})),s.on("click.rotate",(function(t){t.preventDefault(),i.previous()}))),0===(n=i.$dotsContainer.find(".dots-full")).next().length){var a=i.element.find(i.options.selectors.next);a.unbind("click.rotate"),i.options.hiddenClass?a.addClass(i.options.hiddenClass):a.animate({opacity:0},"fast",(function(){t(this).css("visibility","hidden")})),i.options.autoRotate&&window.clearTimeout(i.timeoutVar)}}i.animating=!1,i.options.callbacks.next&&i.options.callbacks.next(),e&&e(),i.options.autoRotate&&i.options.autoRotate.timeout&&i.rotate()}));else{var o=i.$dotsContainer.find(".dots-full");o.next().length>0?(i.animating=!1,i.bouncing=!0,i.moveDots(o.index()+1)):(i.animating=!1,i.bouncing=!0,i.bounceAnimationTimeBackup||(i.bounceAnimationTimeBackup=i.options.animationTime,i.options.animationTime=i.options.bounceAnimationTime),i.bounceAnimationEasingBackup||(i.bounceAnimationEasingBackup=i.options.animationTime,i.options.animationEasing=i.options.bounceAnimationEasing),i.moveDots(0))}},previous:function(e){var i=this;if(!i.animating)if(i.animating=!0,!i.options.loopBounce||i.bouncing){i.element.find(i.options.selectors.rotatingContent+":nth(0)").animate({left:i.options.horizontalChange},i.options.animationTime,i.options.animationEasing,(function(){!1===i.options.photoGallery&&t(this).css(i.options.styles.contentHidden)}));var o=i.element.find(i.options.selectors.rotatingContent).last();o.css({left:"-"+i.options.horizontalChange}).insertBefore(i.element.find(i.options.selectors.rotatingContent).first()),o.animate({left:"0"},i.options.animationTime,i.options.animationEasing,(function(){t(this).css(i.options.styles.contentVisible);var o=i.$dotsContainer.find(".dots-full");if(o.removeClass("dots-full").addClass("dots-empty"),o.prev().length>0?o.prev().removeClass("dots-empty").addClass("dots-full"):i.$dotsContainer.find(".dots-empty").last().removeClass("dots-empty").addClass("dots-full"),!i.options.loop){var n=i.element.find(i.options.selectors.next);if(("0"===n.css("opacity")||n.hasClass(i.options.hiddenClass))&&(i.options.hiddenClass?n.removeClass(i.options.hiddenClass):n.css("visibility","visible").animate({opacity:1},"fast").on("click.rotate",(function(t){t.preventDefault(),i.next()})),n.on("click.rotate",(function(t){t.preventDefault(),i.next()}))),0===(o=i.$dotsContainer.find(".dots-full")).prev().length){var s=i.element.find(i.options.selectors.previous);s.unbind("click.rotate"),i.options.hiddenClass?s.addClass(i.options.hiddenClass):s.animate({opacity:0},"fast",(function(){t(this).css("visibility","hidden")}))}}i.animating=!1,i.options.callbacks.previous&&i.options.callbacks.previous(),e&&e(),i.options.autoRotate&&i.options.autoRotate.timeout&&i.rotate()}))}else{var n=i.$dotsContainer.find(".dots-full");n.prev().length>0?(i.animating=!1,i.bouncing=!0,i.moveDots(n.index()-1)):(i.animating=!1,i.bouncing=!0,i.bounceAnimationTimeBackup||(i.bounceAnimationTimeBackup=i.options.animationTime,i.options.animationTime=i.options.bounceAnimationTime),i.bounceAnimationEasingBackup||(i.bounceAnimationEasingBackup=i.options.animationTime,i.options.animationEasing=i.options.bounceAnimationEasing),i.moveDots(i.$dotsContainer.find(".dot").last().index()))}},moveDots:function(t,e){var i=this;if(void 0===e&&(e=!0),!i.animating){i.options.loopBounce&&(i.bouncing=!0);var o=i.$dotsContainer.find(".dots-full"),n=Math.abs(t-o.index());i.options.defaultAnimationTime||(i.options.defaultAnimationTime=i.options.animationTime,1==i.options.defaultAnimationTime?i.options.animationTime=0:i.options.animationTime=i.options.defaultAnimationTime/n),t>o.index()?i.next((function(){i.moveDots(t,e)})):t<o.index()?i.previous((function(){i.moveDots(t,e)})):(i.options.defaultAnimationTime&&(i.options.animationTime=i.options.defaultAnimationTime,delete i.options.defaultAnimationTime),i.bouncing&&delete i.bouncing,i.bounceAnimationTimeBackup&&(i.options.animationTime=i.bounceAnimationTimeBackup,delete i.bounceAnimationTimeBackup),i.bounceAnimationEasingBackup&&(i.options.animationEasing="easeOutCirc"),i.options.callbacks.moveDots&&!0===e&&i.options.callbacks.moveDots())}},stopRotate:function(){window.clearTimeout(this.timeoutVar)},rotate:function(){var t=this;window.clearTimeout(t.timeoutVar),t.timeoutVar=setTimeout((function(){t.animating||t.next(),t.rotate()}),t.options.autoRotate.timeout)}})}(jQuery),$((function(){var t;t=void 0!==imageGallery&&0!=imageGallery.length&&jQuery.parseJSON(JSON.stringify(imageGallery));var e=0;$(t).each((function(){this.imgNum=e,e++}));var i=t.length,o=0,n=$(".overflow-container").hasClass("artist")?"artist":"album";"album"===n&&(n=$(".overflow-container").hasClass("release")?"release":"album"),"album"===n&&(n=$(".overflow-container").hasClass("performance")?"performance":"album");var s=n.charAt(0).toUpperCase()+n.slice(1),a=function(t){$(document).find(".thumb-img img").removeClass("highlight-on").addClass("highlight-off"),$(document).find("#img-"+t+" img").removeClass("highlight-off").addClass("highlight-on")},r=function(e){void 0===e&&(e=0),$("#carousel ul li").not(".nav-element").remove();var n=e+10>=i?i:e+10,s=t.slice(e,n),r="",l=0;$(s).each((function(){r+='<li class="thumb-img" id="img-'+s[l].imgNum+'" aria-label="View this image"><img src="'+s[l].url+'" alt="'+s[l].title+'" class="highlight-off thumbnail-img"></li>',l++}));var d=$(document).find("#carousel ul li"),c=$(d).first();$(r).insertAfter(c),a(o),$(".thumb-img").on("click",(function(){var t=$(this).attr("id").replace("img-","");t=parseInt(t),o=t,u(t),a(o)}))},l=function(t,e){var o;(void 0===t&&(t=0),t=parseInt(t),e)&&("prev"===e?t===i-1?(o=10*Math.floor(t/10),r(o),a(t)):t%10==9?(r((o=t-9)>0?o:0),a(t)):a(t):"next"===e&&(t%10==0?(r(t),a(t)):a(t)))},u=function(e){void 0===e&&(e=0);var a=parseInt(e)+1,r=t[e].copyrightOwner?t[e].copyrightOwner:"",d=t[e].title?t[e].title:t[e].artist&&t[e].albumTitle?t[e].artist+" - "+t[e].albumTitle:"",c=$(document).find("span.gallery-main-image-bind"),h=t[e].zoomLevel&&t[e].zoomURL?t[e].zoomURL:"",p='<img src="'+t[e].url+'" alt="'+d+'" class="gallery-main-image" data-original="'+h+'">';if(!t[e].album&&t[e].title){var f="";r&&void 0!==r&&""!==r&&(f="photo by: "+r),p+='<p class="caption">'+t[e].title+" - &lpar;"+a+" of "+i+'&rpar;</p><p class="credit">'+f+"</p>"}else{var m="";r&&void 0!==r&&""!==r&&(m="image via "+r),p+='<p class="caption"></p><p class="credit">'+m+"</p>"}if($(document).find(".gallery-main-image").remove(),$(document).find("p.caption").remove(),$(document).find("p.credit").remove(),$(p).insertAfter(c),"album"===n||"release"===n){if(!isMobile_AllMusic)new Zooming({onOpen:function(t){$(document).find(".arrow-large").hide("fast")},onClose:function(t){$(document).find(".arrow-large").show("fast")}}).listen(".gallery-main-image")}else{var g=$(document).find(".gallery-main-image");$(g).on("click",(function(){var t;allmusic.gaTrackEvent({data:[s+" Page: Overview","Interaction","Flip to Next Photo in Gallery"]}),l(t=o===i-1?0:o+1,"next"),u(t),o=t}))}},d=function(t,e){var o;return t=parseInt(t),"prev"===e?((o=t-10)>=0||(o=10*Math.floor(i/10),i%10==0&&(o-=10)),o):"next"===e&&((o=t+1)>=i&&(o=0),o)};$(".gallery-launch").on("click",(function(){if(!isMobile_AllMusic&&t){$(document).find(".gallery-modal").remove(),$(document).find(".preloaded-image").remove(),function(){$(document).find("body").addClass("noscroll");var t="";i<=10&&(t+="display:none;");var e='<div class="gallery-modal"><div id="img-container"><div class="close-gallery" aria-label="Close gallery window"><p>&times;</p></div>'+(i>1?'<i class="arrow-left arrow-large" aria-label="Previous image"></i><span class="gallery-main-image-bind"></span><i class="arrow-right arrow-large" aria-label="Next image"></i>':'<span class="gallery-main-image-bind"></span>')+'<div id="carousel"><ul><li class="thumb-left nav-element" aria-label="Previous thumbnails"><i class="arrow-left arrow-small first" style="'+t+'"></i></li><li class="thumb-right nav-element" aria-label="Next thumbnails"><i class="arrow-right arrow-small last" style="'+t+'"></i></li></ul></div></div></div>';$("body").append($(e).hide().fadeIn())}();var e=[];$(t).each((function(){e.push(this.url)})),$(e).each((function(){$('<img class="preloaded-image" />').attr("src",this).appendTo("body").css("display","none")})),u(o),r(o),a(o);var n=$(document).find(".arrow-large.arrow-left"),c=$(document).find(".arrow-large.arrow-right"),h=($(document).find(".close-gallery"),$(document).find(".arrow-small.first")),p=$(document).find(".arrow-small.last");$(n).on("click",(function(){var t;return allmusic.gaTrackEvent({data:[s+" Page: Overview","Interaction","Flip to Previous Photo in Gallery"]}),l(t=0===o?i-1:o-1,"prev"),u(t),o=t,!1})),$(c).on("click",(function(){var t;return allmusic.gaTrackEvent({data:[s+" Page: Overview","Interaction","Flip to Next Photo in Gallery"]}),l(t=o===i-1?0:o+1,"next"),u(t),o=t,!1})),$(document).keydown((function(t){switch(t.keyCode){case 37:$(n).trigger("click");break;case 39:$(c).trigger("click");break;default:return}t.preventDefault()})),$(h).on("click",(function(){var t=$(document).find("#carousel ul li.thumb-img").first().attr("id").replace("img-",""),e=d(t,"prev");r(e)})),$(p).on("click",(function(){var t=$(document).find("#carousel ul li.thumb-img").last().attr("id").replace("img-",""),e=d(t,"next");r(e)})),$(document).find(".gallery-modal").on("click",(function(t){$(t.target).hasClass("arrow-large")||$(t.target).hasClass("arrow-small")||$(t.target).hasClass("gallery-main-image")||$(t.target).hasClass("thumbnail-img")||null===document.querySelector(".zoom-div")&&setTimeout((function(){o=0,$(document).find(".gallery-modal").remove(),$(document).find(".preloaded-image").remove(),$(document).find("body").removeClass("noscroll")}),100)}))}}))})),$((function(){$("section.corrections form").on("submit",(function(t){t.preventDefault();for(var e=$(this),i=e[0].elements,o="",n=!1,s=0;s<i.length;s++)"submit"!=i[s].type&&""!=i[s].value&&(o+=i[s].name,o+="=",o+=i[s].value,"EMail"==i[s].name&&(n=!0)),i[s+1]&&"submit"!=i[s+1].type&&""!=i[s+1].value&&(o+="&");if(!1===n)alert("Please include your email address.");else{window.scrollTo(0,0);var a=$("section.corrections"),r=$("div.allmusic-share");$(a).html('<div class="loading"></div>');setTimeout((function(){$.manageAjax.create("allmusic.dataCorrections",{cacheResponse:!1}),$.manageAjax.add("allmusic.dataCorrections",{type:"POST",url:protocol+urlSubdomain+".allmusic.com/corrections",data:{correctionsQuery:o},success:function(t){$(a).remove(),$(t).insertAfter(r)},error:function(){e.html("An error was encountered. Please try to submit your corrections again.")}})}),2e3)}}))})),$((function(){})),$((function(){enquire.register("screen and (max-width: "+mobileMaxWidth+"px)",{match:function(){$("head").prepend('<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0" />'),$(".content").insertBefore(".sidebar"),$(".sidebar .artist-image").insertBefore(".content hgroup"),$(".sidebar .streams").appendTo(".content header"),$(".content .album-highlights").hide(),$(".content .composition-highlights").hide(),$("section.allmusic_anyclip").insertBefore(".sidebar"),$(".tab.biography").on("click.mobile",(function(t){t.preventDefault();var e=$(this);if(e.next().hasClass("tab-content"))e.next().hasClass("hidden")?(e.next().removeClass("hidden"),e.find("a .arrow").html("&uarr;")):(e.next().addClass("hidden"),e.find("a .arrow").html("&darr;"));else{e.find("a .arrow").html("&uarr;"),e.after('                        <li class="tab-content mobile biography">                            <div class="loading"></div>                        </li>                    ');var i=window.location.pathname.split("/"),o="/"+i[1]+"/"+i[2]+"/biography/mobile";e.next().load(o)}window.scrollTo(0,e.offset().top)})),$(".tab.discography").on("click.mobile",(function(t){t.preventDefault();var e=$(this);if(window.scrollTo(0,e.offset().top),e.next().hasClass("tab-content"))e.next().hasClass("hidden")?(e.next().removeClass("hidden"),e.find("a .arrow").html("&uarr;")):(e.next().addClass("hidden"),e.find("a .arrow").html("&darr;"));else{e.find("a .arrow").html("&uarr;"),e.after('                        <li class="tab-content mobile discography">                            <div class="loading"></div>                        </li>                    ');var i=window.location.pathname.split("/"),o="/"+i[1]+"/"+i[2]+"/discography/mobile";e.next().load(o,(function(){var t='Filter Discography By - <select class="discography-filter-mobile">';$(document).find(".tab-content.mobile.discography .release-types input").each((function(){var e=$(this);t+='<option value="'+e.val()+'/mobile">'+e.next().text()+"</option>"})),t+="</select>",$(".release-types").html(t),$(".discography-filter-mobile").on("change",(function(){var t=$(this).val();$(".tab-content.discography .discography-container").html('                                    <div class="loading"></div>                            ').load(t+"/1")})),$(window).trigger("scroll"),window.scrollTo(0,e.offset().top)}))}window.scrollTo(0,e.offset().top)})),$(".tab.songs").on("click.mobile",(function(t){t.preventDefault();var e=$(this);if(e.next().hasClass("tab-content"))e.next().hasClass("hidden")?(e.next().removeClass("hidden"),e.find("a .arrow").html("&uarr;")):(e.next().addClass("hidden"),e.find("a .arrow").html("&darr;"));else{e.find("a .arrow").html("&uarr;"),e.after('                        <li class="tab-content mobile songs">                            <div class="loading"></div>                        </li>                    ');var i=window.location.pathname.split("/"),o="/"+i[1]+"/"+i[2]+"/songs/mobile";e.next().load(o,(function(){$(".tab-content #toggle-highlights").attr("onchange",""),$(".tab-content #toggle-all").attr("onchange",""),$(".tab-content #toggle-highlights").attr("id","toggle-highlights-mobile"),$(".tab-content #toggle-all").attr("id","toggle-all-mobile"),$(".tab-content #toggle-highlights-mobile").next().attr("for","toggle-highlights-mobile"),$(".tab-content #toggle-all-mobile").next().attr("for","toggle-all-mobile"),$(".tab-content.songs").on("change","#toggle-all-mobile",(function(){var t=window.location.pathname.split("/"),i="/"+t[1]+"/"+t[2]+"/songs/all/mobile";$(".tab-content.songs").html('                                    <div class="loading"></div>                            '),$(".tab-content.songs").load(i,(function(){window.scrollTo(0,e.offset().top),$(".tab-content #toggle-highlights").attr("onchange",""),$(".tab-content #toggle-all").attr("onchange",""),$(".tab-content #toggle-highlights").attr("id","toggle-highlights-mobile"),$(".tab-content #toggle-all").attr("id","toggle-all-mobile"),$(".tab-content #toggle-highlights-mobile").next().attr("for","toggle-highlights-mobile"),$(".tab-content #toggle-all-mobile").next().attr("for","toggle-all-mobile")}))})),$(".tab-content.songs").on("change","#toggle-highlights-mobile",(function(){var t=window.location.pathname.split("/"),i="/"+t[1]+"/"+t[2]+"/songs/mobile";$(".tab-content.songs").html('                                    <div class="loading"></div>                            '),$(".tab-content.songs").load(i,(function(){window.scrollTo(0,e.offset().top),$(".tab-content #toggle-highlights").attr("onchange",""),$(".tab-content #toggle-all").attr("onchange",""),$(".tab-content #toggle-highlights").attr("id","toggle-highlights-mobile"),$(".tab-content #toggle-all").attr("id","toggle-all-mobile"),$(".tab-content #toggle-highlights-mobile").next().attr("for","toggle-highlights-mobile"),$(".tab-content #toggle-all-mobile").next().attr("for","toggle-all-mobile")}))})),$(".tab-content.songs").on("change",".alpha-select",(function(){var t=window.location.pathname.split("/");if("ALL"==this.value)var i="/"+t[1]+"/"+t[2]+"/songs/all/mobile";else i="/"+t[1]+"/"+t[2]+"/songs/all/"+this.value+"/mobile";$(".tab-content.songs").html('                                    <div class="loading"></div>                            '),$(".tab-content.songs").load(i,(function(){window.scrollTo(0,e.offset().top),$(".tab-content #toggle-highlights").attr("onchange",""),$(".tab-content #toggle-all").attr("onchange",""),$(".tab-content #toggle-highlights").attr("id","toggle-highlights-mobile"),$(".tab-content #toggle-all").attr("id","toggle-all-mobile"),$(".tab-content #toggle-highlights-mobile").next().attr("for","toggle-highlights-mobile"),$(".tab-content #toggle-all-mobile").next().attr("for","toggle-all-mobile")}))})),$(".tab-content.songs").on("click",".pagination a",(function(t){t.preventDefault();var i=$(this).attr("href")+"/mobile";$(".tab-content.songs").html('                                    <div class="loading"></div>                            '),$(".tab-content.songs").load(i,(function(){window.scrollTo(0,e.offset().top)}))})),window.scrollTo(0,e.offset().top)}))}window.scrollTo(0,e.offset().top)})),$(".tab.compositions").on("click.mobile",(function(t){t.preventDefault();var e=$(this);if(e.next().hasClass("tab-content"))e.next().hasClass("hidden")?(e.next().removeClass("hidden"),e.find("a .arrow").html("&uarr;")):(e.next().addClass("hidden"),e.find("a .arrow").html("&darr;"));else{e.find("a .arrow").html("&uarr;"),e.after('                        <li class="tab-content mobile compositions">                            <div class="loading"></div>                        </li>                    ');var i=window.location.pathname.split("/"),o="/"+i[1]+"/"+i[2]+"/compositions/mobile";e.next().load(o,(function(){window.scrollTo(0,e.offset().top)}))}window.scrollTo(0,e.offset().top)})),$(".tab.credits").on("click.mobile",(function(t){t.preventDefault();var e=$(this);if(e.next().hasClass("tab-content"))e.next().hasClass("hidden")?(e.next().removeClass("hidden"),e.find("a .arrow").html("&uarr;")):(e.next().addClass("hidden"),e.find("a .arrow").html("&darr;"));else{e.find("a .arrow").html("&uarr;"),e.after('                        <li class="tab-content mobile credits">                            <div class="loading"></div>                        </li>                    ');var i=window.location.pathname.split("/"),o="/"+i[1]+"/"+i[2]+"/credits/mobile";e.next().load(o,(function(){window.scrollTo(0,e.offset().top)}))}window.scrollTo(0,e.offset().top)})),$(".tab.awards").on("click.mobile",(function(t){t.preventDefault();var e=$(this);if(e.next().hasClass("tab-content"))e.next().hasClass("hidden")?(e.next().removeClass("hidden"),e.find("a .arrow").html("&uarr;")):(e.next().addClass("hidden"),e.find("a .arrow").html("&darr;"));else{e.find("a .arrow").html("&uarr;"),e.after('                        <li class="tab-content mobile awards ">                            <div class="loading"></div>                        </li>                    ');var i=window.location.pathname.split("/"),o="/"+i[1]+"/"+i[2]+"/awards/mobile";e.next().load(o,(function(){window.scrollTo(0,e.offset().top)}))}window.scrollTo(0,e.offset().top)})),$(".tab.related").on("click.mobile",(function(t){t.preventDefault();var e=$(this);if(e.next().hasClass("tab-content"))e.next().hasClass("hidden")?(e.next().removeClass("hidden"),e.find("a .arrow").html("&uarr;")):(e.next().addClass("hidden"),e.find("a .arrow").html("&darr;"));else{e.find("a .arrow").html("&uarr;"),e.after('                        <li class="tab-content mobile related ">                            <div class="loading"></div>                        </li>                    ');var i=window.location.pathname.split("/"),o="/"+i[1]+"/"+i[2]+"/related/mobile";e.next().load(o,(function(){window.scrollTo(0,e.offset().top)}))}window.scrollTo(0,e.offset().top)}));var t=window.location.pathname.split("/").pop();"biography"===t?$(".tab.biography").next().hasClass("tab-content")||$(".tab.biography").click():"discography"===t?$(".tab.discography").next().hasClass("tab-content")||$(".tab.discography").click():"songs"===t?$(".tab.songs").next().hasClass("tab-content")||$(".tab.songs").click():"compositions"===t?$(".tab.compositions").next().hasClass("tab-content")||$(".tab.compositions").click():"credits"===t?$(".tab.credits").next().hasClass("tab-content")||$(".tab.credits").click():"awards"===t?$(".tab.awards").next().hasClass("tab-content")||$(".tab.awards").click():"related"===t&&($(".tab.related").next().hasClass("tab-content")||$(".tab.related").click())},unmatch:function(){$(".content").insertBefore(".sidebar"),$(".sidebar").prepend($(".artist-image")),$(".content header .streams").insertAfter($(".sidebar .artist-image")),$(".content .album-highlights").show(),$(".content .composition-highlights").show(),$("section.allmusic_anyclip").appendTo(".content"),$(".tabs .tab").unbind(".mobile")},setup:function(){var t="";$(".tab.overview").length&&(-1!==$(".tab.overview").data("sections").indexOf("moods")&&(t+='                        <li class="tab mobile moods">                            <a href="#" aria-label="Artist Moods">                                Artist Moods                                <span class="arrow"></span>                            </a>                        </li>'),-1!==$(".tab.overview").data("sections").indexOf("themes")&&(t+='                        <li class="tab mobile themes">                            <a href="#" aria-label="Artist Themes">                                Artist Themes                                <span class="arrow"></span>                                </a>                        </li>')),$(".tabs").prepend('                <li class="tab mobile artist-information">                    <a href="#" aria-label="Artist Information">                        Artist Information                        <span class="arrow"></span>                        </a>                </li>').append(t),$("li.amazontooltip > span").on("hover",(function(t){var e=$(this);$(e).css("visibility","hidden"),$(e).css("display","none")})),$("li.amazontooltip > a").on("click",(function(t){var e=$(this).attr("href");t.preventDefault();var i,o=$("li.amazontooltip span .amazon-div");if(i=!!$("li.amazontooltip .amazon-mobile-dropdown span .amazon-div").length,o.length&&!i){var n=$("li.amazontooltip span").clone();$('<div class="amazon-mobile-dropdown"><b></b><span class="close-container"><span class="close-button">X</span></span></div>').appendTo("li.amazontooltip"),$(n).find("b").remove(),$("li.amazontooltip span").hasClass("mobile-offset")&&$(document).find(".amazon-mobile-dropdown").addClass("mobile-offset"),$(document).find(".amazon-mobile-dropdown").append(n);var s=$(document).find(".amazon-mobile-dropdown");$(s).css("opacity","1"),$(s).css("text-decoration","none"),$(s).css("visibility","visible"),$(s).css("overflow","visible"),$(s).css("margin-top","45px"),$(s).css("display","inline"),$(s).css("transition-delay","0s"),$(s).css("z-index","50000"),$(s).hasClass("mobile-offset")?($(s).css("margin-left","-120px"),$(".amazon-mobile-dropdown b").css("margin-left","89px")):$(s).css("margin-left","-100px"),$(document).find(".content header").css("overflow","visible"),$(document).find(".streams").css("overflow","visible"),$(".close-container").on("click",(function(t){$(document).find(".amazon-mobile-dropdown").remove(),$(document).find(".content header").css("overflow","auto"),$(document).find(".streams").css("overflow","auto")}))}else window.location=e})),$(".tab.artist-information").on("click",(function(t){t.preventDefault();var e=$(this);window.scrollTo(0,e.offset().top),e.next().hasClass("tab-content")?e.next().hasClass("hidden")?(e.next().removeClass("hidden"),e.find("a .arrow").html("&uarr;")):(e.next().addClass("hidden"),e.find("a .arrow").html("&darr;")):(e.find("a .arrow").html("&uarr;"),e.after('                        <li class="tab-content mobile artist-information">                        </li>                    '),$(".sidebar > .basic-info").clone().appendTo(e.next()))})),$(".tab.moods").on("click",(function(t){t.preventDefault();var e=$(this);if(e.next().hasClass("tab-content"))e.next().hasClass("hidden")?(e.next().removeClass("hidden"),e.find("a .arrow").html("&uarr;")):(e.next().addClass("hidden"),e.find("a .arrow").html("&darr;"));else{e.find("a .arrow").html("&uarr;"),e.after('                        <li class="tab-content mobile moods">                            <div class="loading"></div>                        </li>                    ');var i=window.location.pathname.split("/"),o="/"+i[1]+"/"+i[2]+"/ajax_moods";e.next().load(o,(function(){window.scrollTo(0,e.offset().top)}))}window.scrollTo(0,e.offset().top)})),$(".tab.themes").on("click",(function(t){t.preventDefault();var e=$(this);if(e.next().hasClass("tab-content"))e.next().hasClass("hidden")?(e.next().removeClass("hidden"),e.find("a .arrow").html("&uarr;")):(e.next().addClass("hidden"),e.find("a .arrow").html("&darr;"));else{e.find("a .arrow").html("&uarr;"),e.after('                        <li class="tab-content mobile themes">                            <div class="loading"></div>                        </li>                    ');var i=window.location.pathname.split("/"),o="/"+i[1]+"/"+i[2]+"/ajax_themes";e.next().load(o,(function(){window.scrollTo(0,e.offset().top)}))}window.scrollTo(0,e.offset().top)}))},deferSetup:!0})})),$((function(){$((function(){$('.discography [name="release-type"]').on("click",(function(){location=this.value}))})),$(document).ready((function(){var t=window.location.pathname.split("/")[4];t?$("#"+t).attr("checked",!0):$("#albums").attr("checked",!0)}))})),$((function(){$(".discography .view-type .full").on("click",(function(){$(".discography .view-type .active").removeClass("active"),$(this).addClass("active"),$(this).find(".fc-icon").addClass("active"),$(".discography table").removeClass("condensed"),Cookie.erase("discographyCondensed")})),$(".discography .view-type .full").hover((function(){$(this).addClass("fc-hover"),$(this).find(".fc-icon").addClass("fc-hover")}),(function(){$(this).removeClass("fc-hover"),$(this).find(".fc-icon").removeClass("fc-hover")})),$(".discography .view-type .condensed").on("click",(function(){$(".discography .view-type .active").removeClass("active"),$(this).addClass("active"),$(this).find(".fc-icon").addClass("active"),$(".discography table").addClass("condensed"),Cookie.create("discographyCondensed","1",30)})),$(".discography .view-type .condensed").hover((function(){$(this).addClass("fc-hover"),$(this).find(".fc-icon").addClass("fc-hover")}),(function(){$(this).removeClass("fc-hover"),$(this).find(".fc-icon").removeClass("fc-hover")})),Cookie.read("discographyCondensed")?($(".discography .view-type .condensed").addClass("active"),$(".discography .view-type .condensed .fc-icon").addClass("active"),$(".discography table").addClass("condensed")):($(".discography .view-type .full").addClass("active"),$(".discography .view-type .full .fc-icon").addClass("active"))})),function(t){t.widget("allmusic.filterStuff",{options:{filter:"",minRows:1},_create:function(){},_init:function(){var e=this;e.element.on("change",(function(){0==this.selectedIndex?e.unfilter():e.filterStuff(t(this).val())}))},filterStuff:function(e){var i=this,o=[];t("[data-filter]").each((function(){var e=t(this),n=e.data("filter");if(n!==i.options.filter&&0!==e[0].selectedIndex){var s=e.val();o.push({name:n,val:s})}})),t("[data-"+i.options.filter+"-filter]").each((function(){var n=t(this);if(-1==String(n.data(i.options.filter+"-filter")).indexOf(e))n.addClass("hidden");else if(o.length>=1)for(var s=0,a=o.length;s<a;s++)n.attr("data-"+o[s].name+"-filter")?-1===String(n.data(o[s].name+"-filter")).indexOf(o[s].val)?n.addClass("hidden"):0==s&&n.removeClass("hidden"):n.removeClass("hidden");else n.removeClass("hidden")}));var n=this.element.closest("table");n.length||(n=t("table").first()),n.find("tr").not(".hidden").not(".no-results").length<=i.options.minRows?t(".no-results").removeClass("hidden"):t(".no-results").addClass("hidden")},unfilter:function(){var e=this,i=[];t("[data-filter]").each((function(){var o=t(this),n=o.data("filter");if(n!==e.options.filter&&0!==o[0].selectedIndex){var s=o.val();i.push({name:n,val:s})}})),t("[data-"+e.options.filter+"-filter]").each((function(){var e=t(this);if(i.length>=1)for(var o=0,n=i.length;o<n;o++)e.attr("data-"+i[o].name+"-filter")?-1==String(e.data(i[o].name+"-filter")).indexOf(i[o].val)?e.addClass("hidden"):0==o&&e.removeClass("hidden"):e.removeClass("hidden");else e.removeClass("hidden")}));var o=this.element.closest("table");o.length||(o=t("table").first()),o.find("tr").not(".hidden").not(".no-results").length<=e.options.minRows?t(".no-results").removeClass("hidden"):t(".no-results").addClass("hidden")}}),t("[data-filter]").each((function(){var e=t(this);e.filterStuff({filter:e.data("filter")})}))}(jQuery),jQuery.fn.sortElements=function(){var t=[].sort;return function(e,i){i=i||function(){return this};var o=this.map((function(){var t=i.call(this),e=t.parentNode,o=e.insertBefore(document.createTextNode(""),t.nextSibling);return function(){if(e===this)throw new Error("You can't sort elements if any one is a descendant of another.");e.insertBefore(this,o),e.removeChild(o)}}));return t.call(this,e).each((function(t){o[t].call(i.call(this))}))}}(),$((function(){"use strict";$(document).delegate("th.sortable > a","click",(function(t){t.preventDefault();var e,i=$(this).closest("table"),o=$(this).closest("th"),n=o.index();e=o.hasClass("desc")?"asc":"desc";var s,a=o.data("sort-default");o.hasClass("asc")||o.hasClass("desc")||void 0===a||(e=a),s="asc"===e?1:-1,$("tr",i).find("td:eq("+n+")").sortElements((function(t,e){var i=$(t).data("sort-value")||null,o=$(e).data("sort-value")||null;return isNaN(i)&&isNaN(o)?(i=i.toLowerCase(),o=o.toLowerCase()):isNaN(i)||isNaN(o)||(i=Number(i),o=Number(o)),null===i?1:null===o?-1:i>o?1*s:-1*s}),(function(){return this.parentNode})),$("th.sortable").removeClass("asc desc"),o.addClass(e)}))}));var initUserFavorite,followingArtist=!1;!function(t){t.widget("allmusic.followArtist",{options:{id:""},_create:function(){var e=this;t.extend(e.options,e.element.data()),enquire.register("screen and (min-width: "+fullMinWidth+"px)",{match:function(){e._bindMouseInteraction()},unmatch:function(){e.element.unbind(".followArtist.mouse")}}),enquire.register("screen and (max-width: "+mobileMaxWidth+"px)",{match:function(){e._bindTouchInteraction()},unmatch:function(){e.element.unbind(".followArtist.touch")}}),t.manageAjax.create("allmusic.followArtist",{cacheResponse:!1,queue:!1})},_setOptions:function(e){t.extend(this.options,e)},_showTooltip:function(){0===this.element.closest(".tooltip").length&&t().qtip&&(t("<div>").qtip({show:{ready:!0,solo:!0},position:{my:"top left",at:"center bottom",viewport:t(window),target:this.element,adjust:{x:8,y:21}},style:{classes:"ratings-signup-tooltip",tip:{corner:"top left",mimic:"top center",width:12,height:5,offset:27}},hide:{delay:200,fixed:!0,inactive:5e3,event:"mouseleave"},content:{text:'<p>Sign up or log in to follow artists and get notifications for personalized new releases.</p><a class="button sign-up" href="/join">Sign Up</a><a class="button open-login-modal" href="#" aria-label="Log in">Log In</a><div id="login-fb"><a href="/oauth/facebook" class="button facebook-login" target="_parent" title="Log In Using Facebook" rel="nofollow" aria-label="Log in using Facebook"><span class="text">LOG IN USING FACEBOOK</span><span class="icon"></span></a></div><div id="login-google"><a href="/oauth/google" class="button google-login" target="_parent" title="Log In Using Google" rel="nofollow" aria-label="Log in using Google"><span class="text">LOG IN USING GOOGLE</span><span class="icon"></span></div>'},events:{hide:function(t,e){e.destroy()}}}),t(document).on("click",".ratings-signup-tooltip .open-login-modal",(function(){t(".ratings-signup-tooltip").qtip("hide")})))},_bindMouseInteraction:function(){var e=this;e.element.on({"click.followArtist.mouse":function(i){if(User.loggedIn)!0===followingArtist?(e._removeFavorite(),t(".artist-follow").removeClass("following"),followingArtist=!1,t(".artist-follow p").html("+ Follow Artist")):(e._addFavorite(),t(".artist-follow").addClass("following"),followingArtist=!0,t(".artist-follow p").html("Following"));else{if("sessionStorage"in window){var o=t(this).data("id");sessionStorage.artistID=o}e._showTooltip()}}}),e.element.on({"mouseover.followArtist.mouse":function(e){!0===followingArtist?t(".artist-follow p").html("Unfollow"):t(".artist-follow p").html("+ Follow Artist")},"mouseout.followArtist.mouse":function(e){!0===followingArtist?t(".artist-follow p").html("Following"):t(".artist-follow p").html("+ Follow Artist")}})},_bindTouchInteraction:function(){var e=this;e.element.on({"click.followArtist.touch":function(i){i.preventDefault(),User.loggedIn?!0===followingArtist?(e._removeFavorite(),t(".artist-follow").removeClass("following"),followingArtist=!1):(e._addFavorite(),t(".artist-follow").addClass("following"),followingArtist=!0):e._openMobileLoginModal()}})},_openMobileLoginModal:function(){this.element.remove(".user-rating-mobile-login-modal"),t("body").on("touchmove.followArtist.preventScrolling",(function(t){t.preventDefault()})),t('<div class="user-rating-mobile-login-modal">').css({position:"fixed",top:0,left:0,zIndex:51,width:"100%",height:"100%"}).html('<h2>Sign up or log in to follow artists and get notifications for personalized new releases</h2><p><a href="/join" class="button">Sign Up</a></p><p><a href="#" class="button open-login-modal" aria-label="Log in">Log In</a></p><div id="login-fb"><a href="/oauth/facebook" class="button facebook-login" target="_parent" title="Log In Using Facebook" rel="nofollow" aria-label="Log in using Facebook"><span class="text">LOG IN USING FACEBOOK</span><span class="icon"></span></a></div><div id="login-google"><a href="/oauth/google" class="button google-login" target="_parent" title="Log In Using Google" rel="nofollow" aria-label="Log in using Google"><span class="text">LOG IN USING GOOGLE</span><span class="icon"></span></div><a href="#" class="close" aria-label="Close window">CLOSE [X]</a>').appendTo("body").find(".close").click((function(e){e.preventDefault(),t(this).parent().remove(),t("body").unbind("touchmove.followArtist.preventScrolling")}))},_addFavorite:function(){t.manageAjax.add("allmusic.followArtist",{url:protocol+urlSubdomain+".allmusic.com/favorite/save",dataType:"json",type:"POST",data:"id="+this.options.id,cache:!1})},_removeFavorite:function(){t.manageAjax.add("allmusic.followArtist",{url:protocol+urlSubdomain+".allmusic.com/favorite/remove",dataType:"json",type:"POST",data:"id="+this.options.id,cache:!1})}}),(initUserFavorite=function(){var e,i=[],o=!1;"sessionStorage"in window&&(o=sessionStorage.artistID),User.loggedIn&&o&&(t.manageAjax.add("allmusic.followArtist",{url:protocol+urlSubdomain+".allmusic.com/favorite/save",dataType:"json",type:"POST",data:"id="+o,cache:!1}),i.push(o),sessionStorage.removeItem("artistID")),e=t(this).find(".artist-follow").each((function(){var e=t(this),o=e.data("id");void 0!==o?(e.followArtist({id:o}),i.push(e.data("id"))):e.followArtist()}));for(;i.length;)t.manageAjax.add("allmusic.followArtist",{url:protocol+urlSubdomain+".allmusic.com/favorite/user/"+i.splice(0,20).join(","),dataType:"json",cache:!1,success:function(t){if(t.length)for(var i in t){var o=t[i];null!=o.date&&(followingArtist=!0,e.filter('[data-id="'+o.itemId+'"]').followArtist({id:o.itemId}).addClass("following"),e.filter('[data-id="'+o.itemId+'"]').followArtist({id:o.itemId}).find("p").html("Following"))}}})}).call(document)}(jQuery);